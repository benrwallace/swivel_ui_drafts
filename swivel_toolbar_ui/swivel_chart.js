/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;m._degToRad=function(_1){return Math.PI*_1/180;};m._radToDeg=function(_2){return _2/Math.PI*180;};m.Matrix2D=function(_3){if(_3){if(typeof _3=="number"){this.xx=this.yy=_3;}else{if(_3 instanceof Array){if(_3.length>0){var _4=m.normalize(_3[0]);for(var i=1;i<_3.length;++i){var l=_4,r=dojox.gfx.matrix.normalize(_3[i]);_4=new m.Matrix2D();_4.xx=l.xx*r.xx+l.xy*r.yx;_4.xy=l.xx*r.xy+l.xy*r.yy;_4.yx=l.yx*r.xx+l.yy*r.yx;_4.yy=l.yx*r.xy+l.yy*r.yy;_4.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_4.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_4);}}else{dojo.mixin(this,_3);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_5){var c=Math.cos(_5);var s=Math.sin(_5);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_6){return m.rotate(m._degToRad(_6));},skewX:function(_7){return new m.Matrix2D({xy:Math.tan(_7)});},skewXg:function(_8){return m.skewX(m._degToRad(_8));},skewY:function(_9){return new m.Matrix2D({yx:Math.tan(_9)});},skewYg:function(_a){return m.skewY(m._degToRad(_a));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_b){return (_b instanceof m.Matrix2D)?_b:new m.Matrix2D(_b);},clone:function(_c){var _d=new m.Matrix2D();for(var i in _c){if(typeof (_c[i])=="number"&&typeof (_d[i])=="number"&&_d[i]!=_c[i]){_d[i]=_c[i];}}return _d;},invert:function(_e){var M=m.normalize(_e),D=M.xx*M.yy-M.xy*M.yx,M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_f,x,y){return {x:_f.xx*x+_f.xy*y+_f.dx,y:_f.yx*x+_f.yy*y+_f.dy};},multiplyPoint:function(_10,a,b){var M=m.normalize(_10);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_11){var M=m.normalize(_11);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_12,x,y){return m.multiply(m.translate(x,y),_12,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_13,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_13),a,b);}return m._sandwich(m.rotate(_13),a.x,a.y);},rotategAt:function(_14,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_14),a,b);}return m._sandwich(m.rotateg(_14),a.x,a.y);},skewXAt:function(_15,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_15),a,b);}return m._sandwich(m.skewX(_15),a.x,a.y);},skewXgAt:function(_16,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_16),a,b);}return m._sandwich(m.skewXg(_16),a.x,a.y);},skewYAt:function(_17,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_17),a,b);}return m._sandwich(m.skewY(_17),a.x,a.y);},skewYgAt:function(_18,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_18),a,b);}return m._sandwich(m.skewYg(_18),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(_19,_1a){return ((" "+_19.getAttribute("className")+" ").indexOf(" "+_1a+" ")>=0);};g._addClass=function(_1b,_1c){var cls=_1b.getAttribute("className");if((" "+cls+" ").indexOf(" "+_1c+" ")<0){_1b.setAttribute("className",cls+(cls?" ":"")+_1c);}};g._removeClass=function(_1d,_1e){_1d.setAttribute("className",_1d.getAttribute("className").replace(new RegExp("(^|\\s+)"+_1e+"(\\s+|$)"),"$1$2"));};b._getFontMeasurements=function(){var _1f={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");div.style.position="absolute";div.style.left="-100px";div.style.top="0";div.style.width="30px";div.style.height="1000em";div.style.border="0";div.style.margin="0";div.style.padding="0";div.style.outline="0";div.style.lineHeight="1";div.style.overflow="hidden";dojo.body().appendChild(div);for(var p in _1f){div.style.fontSize=p;_1f[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _1f;};var _20=null;b._getCachedFontMeasurements=function(_21){if(_21||!_20){_20=b._getFontMeasurements();}return _20;};var _22=null,_23={};b._getTextBox=function(_24,_25,_26){var m;if(!_22){m=_22=dojo.doc.createElement("div");m.style.position="absolute";m.style.left="-10000px";m.style.top="0";dojo.body().appendChild(m);}else{m=_22;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_25){for(var i in _25){if(i in _23){continue;}m.style[i]=_25[i];}}if(arguments.length>2&&_26){m.className=_26;}m.innerHTML=_24;return dojo.marginBox(m);};var _27=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_27);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},normalizeColor:function(_28){return (_28 instanceof dojo.Color)?_28:new dojo.Color(_28);},normalizeParameters:function(_29,_2a){if(_2a){var _2b={};for(var x in _29){if(x in _2a&&!(x in _2b)){_29[x]=_2a[x];}}}return _29;},makeParameters:function(_2c,_2d){if(!_2d){return dojo.clone(_2c);}var _2e={};for(var i in _2c){if(!(i in _2e)){_2e[i]=dojo.clone((i in _2d)?_2d[i]:_2c[i]);}}return _2e;},formatNumber:function(x,_2f){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _30=val.indexOf(".");if(_30>=0&&val.length-_30>5){val=x.toFixed(4);}}if(x<0){return val;}return _2f?" "+val:val;},makeFontString:function(_31){return _31.style+" "+_31.variant+" "+_31.weight+" "+_31.size+" "+_31.family;},splitFontString:function(str){var _32=dojo.clone(dojox.gfx.defaultFont);var t=str.split(/\s+/);do{if(t.length<5){break;}_32.style=t[0];_32.varian=t[1];_32.weight=t[2];var i=t[3].indexOf("/");_32.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;break;}if(t[4].substr(0,1)=="/"){j=5;break;}}if(j+3>t.length){break;}_32.size=t[j];_32.family=t[j+1];}while(false);return _32;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _33=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_33;case "in":return val*72*_33;case "pc":return val*12*_33;case "mm":return val*dojox.gfx.mm_in_pt*_33;case "cm":return val*dojox.gfx.cm_in_pt*_33;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;}});}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,_34,_35;if(!gfx.renderer){var _36=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,silverlight,canvas").split(",");var ua=navigator.userAgent,_37=0,_38=0;if(dojo.isSafari>=3){if(ua.indexOf("iPhone")>=0||ua.indexOf("iPod")>=0){_35=ua.match(/Version\/(\d(\.\d)?(\.\d)?)\sMobile\/([^\s]*)\s?/);if(_35){_37=parseInt(_35[4].substr(0,3),16);}}if(!_37){_35=ua.match(/Android\s+(\d+\.\d+)/);if(_35){_38=parseFloat(_35[1]);}}}for(var i=0;i<_36.length;++i){switch(_36[i]){case "svg":if(!dojo.isIE&&(!_37||_37>=1521)&&!_38){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){_34=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_34=true;}}}catch(e){_34=false;}finally{sl=null;}if(_34){dojox.gfx.renderer="silverlight";}break;case "canvas":if(!dojo.isIE){dojox.gfx.renderer="canvas";}break;}if(dojox.gfx.renderer){break;}}if(dojo.config.isDebug){console.log("gfx renderer = "+dojox.gfx.renderer);}}});dojo.requireIf(dojox.gfx.renderer=="svg","dojox.gfx.svg");dojo.requireIf(dojox.gfx.renderer=="vml","dojox.gfx.vml");dojo.requireIf(dojox.gfx.renderer=="silverlight","dojox.gfx.silverlight");dojo.requireIf(dojox.gfx.renderer=="canvas","dojox.gfx.canvas");}if(!dojo._hasResource["dojox.lang.functional.lambda"]){dojo._hasResource["dojox.lang.functional.lambda"]=true;dojo.provide("dojox.lang.functional.lambda");(function(){var df=dojox.lang.functional,_39={};var _3a="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _3b=function(s){var _3c=[],_3d=_3a.call(s,/\s*->\s*/m);if(_3d.length>1){while(_3d.length){s=_3d.pop();_3c=_3d.pop().split(/\s*,\s*|\s+/m);if(_3d.length){_3d.push("(function("+_3c+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){_3c=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){_3c.push("$1");s="$1"+s;}if(r){_3c.push("$2");s=s+"$2";}}else{var _3e=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var t={};dojo.forEach(_3e,function(v){if(!(v in t)){_3c.push(v);t[v]=1;}});}}}return {args:_3c,body:s};};var _3f=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};dojo.mixin(df,{rawLambda:function(s){return _3b(s);},buildLambda:function(s){s=_3b(s);return "function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _3f(s);}if(s in _39){return _39[s];}s=_3b(s);return _39[s]=new Function(s.args,"return ("+s.body+");");},clearLambdaCache:function(){_39={};}});})();}if(!dojo._hasResource["dojox.lang.functional.array"]){dojo._hasResource["dojox.lang.functional.array"]=true;dojo.provide("dojox.lang.functional.array");(function(){var d=dojo,df=dojox.lang.functional,_40={};d.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v;if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{for(var i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(var i in a){if(i in _40){continue;}f.call(o,a[i],i,a);}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n;if(d.isArray(a)){t=new Array(n=a.length);for(var i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{t=[];for(var i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(var i in a){if(i in _40){continue;}if(!f.call(o,a[i],i,a)){return false;}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(var i in a){if(i in _40){continue;}if(f.call(o,a[i],i,a)){return true;}}}}return false;}});})();}if(!dojo._hasResource["dojox.lang.functional.object"]){dojo._hasResource["dojox.lang.functional.object"]=true;dojo.provide("dojox.lang.functional.object");(function(){var d=dojo,df=dojox.lang.functional,_41={};d.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(i in _41){continue;}t.push(i);}return t;},values:function(obj){var t=[];for(var i in obj){if(i in _41){continue;}t.push(obj[i]);}return t;},filterIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},v;for(var i in obj){if(i in _41){continue;}v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}return t;},forIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);for(var i in obj){if(i in _41){continue;}f.call(o,obj[i],i,obj);}return o;},mapIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={};for(var i in obj){if(i in _41){continue;}t[i]=f.call(o,obj[i],i,obj);}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional"]){dojo._hasResource["dojox.lang.functional"]=true;dojo.provide("dojox.lang.functional");}if(!dojo._hasResource["dojox.lang.functional.fold"]){dojo._hasResource["dojox.lang.functional.fold"]=true;dojo.provide("dojox.lang.functional.fold");(function(){var d=dojo,df=dojox.lang.functional,_42={};d.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(var i in a){if(i in _42){continue;}z=f.call(o,z,a[i],i,a);}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var z;if(d.isArray(a)){z=a[0];for(var i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(var i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _43=true;for(var i in a){if(i in _42){continue;}if(_43){z=a[i];_43=false;}else{z=f.call(o,z,a[i],i,a);}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,z=a[n-1];for(var i=n-1;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||d.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional.reversed"]){dojo._hasResource["dojox.lang.functional.reversed"]=true;dojo.provide("dojox.lang.functional.reversed");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v;for(var i=a.length-1;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n);for(var i=n-1,j=0;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});})();}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");(function(){var _44=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_45,obj){var m=_45.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1];if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){var a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2,a=[_44(m1,m2,H+1/3)*256,_44(m1,m2,H)*256,_44(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _46=function(c,low,_47){c=Number(c);return isNaN(c)?_47:c<low?low:c>_47?_47:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_46(t.r,0,255));t.g=Math.round(_46(t.g,0,255));t.b=Math.round(_46(t.b,0,255));t.a=_46(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.Color.named=dojo.mixin({aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]},dojo.Color.named);}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(_48,_49,_4a){if(dojo.isArray(_48)){_49=_48[1],_4a=_48[2],_48=_48[0];}else{if(dojo.isObject(_48)){_49=_48.m,_4a=_48.y,_48=_48.c;}}_48/=100,_49/=100,_4a/=100;var r=1-_48,g=1-_49,b=1-_4a;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(_4b,_4c,_4d,_4e){if(dojo.isArray(_4b)){_4c=_4b[1],_4d=_4b[2],_4e=_4b[3],_4b=_4b[0];}else{if(dojo.isObject(_4b)){_4c=_4b.m,_4d=_4b.y,_4e=_4b.b,_4b=_4b.c;}}_4b/=100,_4c/=100,_4d/=100,_4e/=100;var r,g,b;r=1-Math.min(1,_4b*(1-_4e)+_4e);g=1-Math.min(1,_4c*(1-_4e)+_4e);b=1-Math.min(1,_4d*(1-_4e)+_4e);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_4f,_50){if(dojo.isArray(hue)){_4f=hue[1],_50=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_4f=hue.s,_50=hue.l,hue=hue.h;}}_4f/=100;_50/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_4f*Math.min(r,1)+(1-_4f);g=2*_4f*Math.min(g,1)+(1-_4f);b=2*_4f*Math.min(b,1)+(1-_4f);if(_50<0.5){r*=_50,g*=_50,b*=_50;}else{r=(1-_50)*r+2*_50-1;g=(1-_50)*g+2*_50-1;b=(1-_50)*b+2*_50-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_51,_52){if(dojo.isArray(hue)){_51=hue[1],_52=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_51=hue.s,_52=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_51/=100;_52/=100;var r,g,b;if(_51==0){r=_52,b=_52,g=_52;}else{var _53=hue/60,i=Math.floor(_53),f=_53-i;var p=_52*(1-_51);var q=_52*(1-(_51*f));var t=_52*(1-(_51*(1-f)));switch(i){case 0:r=_52,g=t,b=p;break;case 1:r=q,g=_52,b=p;break;case 2:r=p,g=_52,b=t;break;case 3:r=p,g=q,b=_52;break;case 4:r=t,g=p,b=_52;break;case 5:r=_52,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var _54=1-(this.r/255),_55=1-(this.g/255),_56=1-(this.b/255);return {c:Math.round(_54*100),m:Math.round(_55*100),y:Math.round(_56*100)};},toCmyk:function(){var _57,_58,_59,_5a;var r=this.r/255,g=this.g/255,b=this.b/255;_5a=Math.min(1-r,1-g,1-b);_57=(1-r-_5a)/(1-_5a);_58=(1-g-_5a)/(1-_5a);_59=(1-b-_5a)/(1-_5a);return {c:Math.round(_57*100),m:Math.round(_58*100),y:Math.round(_59*100),b:Math.round(_5a*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _5b=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_5b/((l<0.5)?(2*l):(2-2*l));}if(_5b>0){if(max==r&&max!=g){h+=(g-b)/_5b;}if(max==g&&max!=b){h+=(2+(b-r)/_5b);}if(max==b&&max!=r){h+=(4+(r-g)/_5b);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _5c=max-min;var h=null,s=(max==0)?0:(_5c/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_5c;}else{if(g==max){h=120+60*(b-r)/_5c;}else{h=240+60*(r-g)/_5c;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["dojox.color.Palette"]){dojo._hasResource["dojox.color.Palette"]=true;dojo.provide("dojox.color.Palette");(function(){var dxc=dojox.color;dxc.Palette=function(_5d){this.colors=[];if(_5d instanceof dojox.color.Palette){this.colors=_5d.colors.slice(0);}else{if(_5d instanceof dojox.color.Color){this.colors=[null,null,_5d,null,null];}else{if(dojo.isArray(_5d)){this.colors=dojo.map(_5d.slice(0),function(_5e){if(dojo.isString(_5e)){return new dojox.color.Color(_5e);}return _5e;});}else{if(dojo.isString(_5d)){this.colors=[null,null,new dojox.color.Color(_5d),null,null];}}}}};function _5f(p,_60,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_61){var r=(_60=="dr")?_61.r+val:_61.r,g=(_60=="dg")?_61.g+val:_61.g,b=(_60=="db")?_61.b+val:_61.b,a=(_60=="da")?_61.a+val:_61.a;ret.colors.push(new dojox.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});console.log("The return colors are ",ret.colors," from the original colors ",p.colors);return ret;};function _62(p,_63,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_64){var o=_64.toCmy(),c=(_63=="dc")?o.c+val:o.c,m=(_63=="dm")?o.m+val:o.m,y=(_63=="dy")?o.y+val:o.y;ret.colors.push(dojox.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function _65(p,_66,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_67){var o=_67.toCmyk(),c=(_66=="dc")?o.c+val:o.c,m=(_66=="dm")?o.m+val:o.m,y=(_66=="dy")?o.y+val:o.y,k=(_66=="dk")?o.b+val:o.b;ret.colors.push(dojox.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function _68(p,_69,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_6a){var o=_6a.toHsl(),h=(_69=="dh")?o.h+val:o.h,s=(_69=="ds")?o.s+val:o.s,l=(_69=="dl")?o.l+val:o.l;ret.colors.push(dojox.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function _6b(p,_6c,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_6d){var o=_6d.toHsv(),h=(_6c=="dh")?o.h+val:o.h,s=(_6c=="ds")?o.s+val:o.s,v=(_6c=="dv")?o.v+val:o.v;ret.colors.push(dojox.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _6e(val,low,_6f){return _6f-((_6f-val)*((_6f-low)/_6f));};dojo.extend(dxc.Palette,{transform:function(_70){var fn=_5f;if(_70.use){var use=_70.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=_68;}else{fn=_6b;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_65;}else{fn=_62;}}}}else{if("dc" in _70||"dm" in _70||"dy" in _70){if("dk" in _70){fn=_65;}else{fn=_62;}}else{if("dh" in _70||"ds" in _70){if("dv" in _70){fn=_6b;}else{fn=_68;}}}}var _71=this;for(var p in _70){if(p=="use"){continue;}_71=fn(_71,p,_70[p]);}return _71;},clone:function(){return new dxc.Palette(this);}});dojo.mixin(dxc.Palette,{generators:{analogous:function(_72){var _73=_72.high||60,low=_72.low||18,_74=dojo.isString(_72.base)?new dojox.color.Color(_72.base):_72.base,hsv=_74.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(_73/2)+360)%360,(hsv.h-_73+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(dojo.map(h,function(hue,i){return dojox.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(_75){var _76=dojo.isString(_75.base)?new dojox.color.Color(_75.base):_75.base,hsv=_76.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_6e(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v3),_76,dojox.color.fromHsv(hsv.h,s1,v3),dojox.color.fromHsv(hsv.h,s2,v2)]);},triadic:function(_77){var _78=dojo.isString(_77.base)?new dojox.color.Color(_77.base):_77.base,hsv=_78.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,hsv.v),dojox.color.fromHsv(hsv.h,s2,v2),_78,dojox.color.fromHsv(h2,s2,v1),dojox.color.fromHsv(h2,s3,v3)]);},complementary:function(_79){var _7a=dojo.isString(_79.base)?new dojox.color.Color(_79.base):_79.base,hsv=_7a.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_6e(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v2),_7a,dojox.color.fromHsv(h1,s3,v2),dojox.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(_7b){var _7c=dojo.isString(_7b.base)?new dojox.color.Color(_7b.base):_7b.base,_7d=_7b.da||30,hsv=_7c.toHsv();var _7e=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_7e-_7d+360)%360,h2=(_7e+_7d)%360,s1=Math.max(hsv.s-10,0),s2=_6e(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),_7c,dojox.color.fromHsv(h2,s3,v2),dojox.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(_7f){var _80=dojo.isString(_7f.base)?new dojox.color.Color(_7f.base):_7f.base,hsv=_80.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),_80,dojox.color.fromHsv(h2,s3,v3),dojox.color.fromHsv(h3,s2,v2)]);},shades:function(_81){var _82=dojo.isString(_81.base)?new dojox.color.Color(_81.base):_81.base,hsv=_82.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dojox.color.fromHsv(hsv.h,s,v1),new dojox.color.fromHsv(hsv.h,s,v2),_82,new dojox.color.fromHsv(hsv.h,s,v3),new dojox.color.fromHsv(hsv.h,s,v4)]);}},generate:function(_83,_84){if(dojo.isFunction(_84)){return _84({base:_83});}else{if(dxc.Palette.generators[_84]){return dxc.Palette.generators[_84]({base:_83});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+_84+"') does not exist.");}});})();}if(!dojo._hasResource["dojox.charting.Theme"]){dojo._hasResource["dojox.charting.Theme"]=true;dojo.provide("dojox.charting.Theme");(function(){var dxc=dojox.charting;dxc.Theme=function(_85){_85=_85||{};var def=dxc.Theme._def;dojo.forEach(["chart","plotarea","axis","series","marker"],function(n){this[n]=dojo.delegate(def[n],_85[n]||{});},this);this.markers=dojo.delegate(dxc.Theme.Markers,_85.markers||{});this.colors=[];this.antiAlias=("antiAlias" in _85)?_85.antiAlias:true;this.assignColors=("assignColors" in _85)?_85.assignColors:true;this.assignMarkers=("assignMarkers" in _85)?_85.assignMarkers:true;_85.colors=_85.colors||def.colors;dojo.forEach(_85.colors,function(_86){this.colors.push(_86);},this);this._current={color:0,marker:0};this._markers=[];this._buildMarkerArray();};dxc.Theme.Markers={CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"};dxc.Theme._def={chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},majorTick:{color:"#666",width:1,length:6,position:"center"},minorTick:{color:"#666",width:0.8,length:3,position:"center"},font:"normal normal normal 7pt Tahoma",fontColor:"#333"},series:{outline:{width:0.1,color:"#ccc"},stroke:{width:1.5,color:"#333"},fill:"#ccc",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:1},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:["#54544c","#858e94","#6e767a","#948585","#474747"]};dojo.extend(dxc.Theme,{defineColors:function(obj){var _87=obj||{};var c=[],n=_87.num||5;if(_87.colors){var l=_87.colors.length;for(var i=0;i<n;i++){c.push(_87.colors[i%l]);}this.colors=c;}else{if(_87.hue){var s=_87.saturation||100;var st=_87.low||30;var end=_87.high||90;var l=(end+st)/2;this.colors=dojox.color.Palette.generate(dojox.color.fromHsv(_87.hue,s,l),"monochromatic").colors;}else{if(_87.generator){this.colors=dojox.color.Palette.generate(_87.base,_87.generator).colors;}}}},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}this._current.marker=0;},_clone:function(){return new dxc.Theme({chart:this.chart,plotarea:this.plotarea,axis:this.axis,series:this.series,marker:this.marker,antiAlias:this.antiAlias,assignColors:this.assignColors,assignMarkers:this.assigneMarkers,colors:dojo.delegate(this.colors)});},addMarker:function(_88,_89){this.markers[_88]=_89;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},next:function(_8a){if(_8a=="marker"){return this._markers[this._current.marker++%this._markers.length];}else{return this.colors[this._current.color++%this.colors.length];}},clear:function(){this._current={color:0,marker:0};}});})();}if(!dojo._hasResource["dojox.charting.Element"]){dojo._hasResource["dojox.charting.Element"]=true;dojo.provide("dojox.charting.Element");dojo.declare("dojox.charting.Element",null,{constructor:function(_8b){this.chart=_8b;this.group=null;this.htmlElements=[];this.dirty=true;},createGroup:function(_8c){if(!_8c){_8c=this.chart.surface;}if(!this.group){this.group=_8c.createGroup();}return this;},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.group.clear();this.group.removeShape();this.group=null;}this.dirty=true;return this;},cleanGroup:function(_8d){this.destroyHtmlElements();if(!_8d){_8d=this.chart.surface;}if(this.group){this.group.clear();}else{this.group=_8d.createGroup();}this.dirty=true;return this;},destroyHtmlElements:function(){if(this.htmlElements.length){dojo.forEach(this.htmlElements,dojo._destroyElement);this.htmlElements=[];}},destroy:function(){this.purgeGroup();}});}if(!dojo._hasResource["dojox.charting.Series"]){dojo._hasResource["dojox.charting.Series"]=true;dojo.provide("dojox.charting.Series");dojo.declare("dojox.charting.Series",dojox.charting.Element,{constructor:function(_8e,_8f,_90){dojo.mixin(this,_90);if(typeof this.plot!="string"){this.plot="default";}this.data=_8f;this.dirty=true;this.clear();},clear:function(){this.dyn={};}});}if(!dojo._hasResource["dojox.charting.scaler.common"]){dojo._hasResource["dojox.charting.scaler.common"]=true;dojo.provide("dojox.charting.scaler.common");(function(){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};dojo.mixin(dojox.charting.scaler.common,{findString:function(val,_91){val=val.toLowerCase();for(var i=0;i<_91.length;++i){if(val==_91[i]){return true;}}return false;},getNumericLabel:function(_92,_93,_94){var def=_94.fixed?_92.toFixed(_93<0?-_93:0):_92.toString();if(_94.labelFunc){var r=_94.labelFunc(def,_92,_93);if(r){return r;}}if(_94.labels){var l=_94.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_92){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_92)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_92)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_92)){return l[lo].text;}}return def;}});})();}if(!dojo._hasResource["dojox.charting.scaler.linear"]){dojo._hasResource["dojox.charting.scaler.linear"]=true;dojo.provide("dojox.charting.scaler.linear");(function(){var _95=3,dc=dojox.charting,dcs=dc.scaler,_96=dcs.common,_97=_96.findString,_98=_96.getNumericLabel;var _99=function(min,max,_9a,_9b,_9c,_9d,_9e){_9a=dojo.delegate(_9a);if(!_9b){if(_9a.fixUpper=="major"){_9a.fixUpper="minor";}if(_9a.fixLower=="major"){_9a.fixLower="minor";}}if(!_9c){if(_9a.fixUpper=="minor"){_9a.fixUpper="micro";}if(_9a.fixLower=="minor"){_9a.fixLower="micro";}}if(!_9d){if(_9a.fixUpper=="micro"){_9a.fixUpper="none";}if(_9a.fixLower=="micro"){_9a.fixLower="none";}}var _9f=_97(_9a.fixLower,["major"])?Math.floor(_9a.min/_9b)*_9b:_97(_9a.fixLower,["minor"])?Math.floor(_9a.min/_9c)*_9c:_97(_9a.fixLower,["micro"])?Math.floor(_9a.min/_9d)*_9d:_9a.min,_a0=_97(_9a.fixUpper,["major"])?Math.ceil(_9a.max/_9b)*_9b:_97(_9a.fixUpper,["minor"])?Math.ceil(_9a.max/_9c)*_9c:_97(_9a.fixUpper,["micro"])?Math.ceil(_9a.max/_9d)*_9d:_9a.max;if(_9a.useMin){min=_9f;}if(_9a.useMax){max=_a0;}var _a1=(!_9b||_9a.useMin&&_97(_9a.fixLower,["major"]))?min:Math.ceil(min/_9b)*_9b,_a2=(!_9c||_9a.useMin&&_97(_9a.fixLower,["major","minor"]))?min:Math.ceil(min/_9c)*_9c,_a3=(!_9d||_9a.useMin&&_97(_9a.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_9d)*_9d,_a4=!_9b?0:(_9a.useMax&&_97(_9a.fixUpper,["major"])?Math.round((max-_a1)/_9b):Math.floor((max-_a1)/_9b))+1,_a5=!_9c?0:(_9a.useMax&&_97(_9a.fixUpper,["major","minor"])?Math.round((max-_a2)/_9c):Math.floor((max-_a2)/_9c))+1,_a6=!_9d?0:(_9a.useMax&&_97(_9a.fixUpper,["major","minor","micro"])?Math.round((max-_a3)/_9d):Math.floor((max-_a3)/_9d))+1,_a7=_9c?Math.round(_9b/_9c):0,_a8=_9d?Math.round(_9c/_9d):0,_a9=_9b?Math.floor(Math.log(_9b)/Math.LN10):0,_aa=_9c?Math.floor(Math.log(_9c)/Math.LN10):0,_ab=_9e/(max-min);if(!isFinite(_ab)){_ab=1;}return {bounds:{lower:_9f,upper:_a0,from:min,to:max,scale:_ab,span:_9e},major:{tick:_9b,start:_a1,count:_a4,prec:_a9},minor:{tick:_9c,start:_a2,count:_a5,prec:_aa},micro:{tick:_9d,start:_a3,count:_a6,prec:0},minorPerMajor:_a7,microPerMinor:_a8,scaler:dcs.linear};};dojo.mixin(dojox.charting.scaler.linear,{buildScaler:function(min,max,_ac,_ad){var h={fixUpper:"none",fixLower:"none",natural:false};if(_ad){if("fixUpper" in _ad){h.fixUpper=String(_ad.fixUpper);}if("fixLower" in _ad){h.fixLower=String(_ad.fixLower);}if("natural" in _ad){h.natural=Boolean(_ad.natural);}}if("min" in _ad){min=_ad.min;}if("max" in _ad){max=_ad.max;}if(_ad.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _ad){min=_ad.from;h.useMin=false;}if("to" in _ad){max=_ad.to;h.useMax=false;}if(max<=min){return _99(min,max,h,0,0,0,_ac);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_ae=_ad&&("majorTickStep" in _ad)?_ad.majorTickStep:Math.pow(10,mag),_af=0,_b0=0,_b1;if(_ad&&("minorTickStep" in _ad)){_af=_ad.minorTickStep;}else{do{_af=_ae/10;if(!h.natural||_af>0.9){_b1=_99(min,max,h,_ae,_af,0,_ac);if(_b1.bounds.scale*_b1.minor.tick>_95){break;}}_af=_ae/5;if(!h.natural||_af>0.9){_b1=_99(min,max,h,_ae,_af,0,_ac);if(_b1.bounds.scale*_b1.minor.tick>_95){break;}}_af=_ae/2;if(!h.natural||_af>0.9){_b1=_99(min,max,h,_ae,_af,0,_ac);if(_b1.bounds.scale*_b1.minor.tick>_95){break;}}return _99(min,max,h,_ae,0,0,_ac);}while(false);}if(_ad&&("microTickStep" in _ad)){_b0=_ad.microTickStep;_b1=_99(min,max,h,_ae,_af,_b0,_ac);}else{do{_b0=_af/10;if(!h.natural||_b0>0.9){_b1=_99(min,max,h,_ae,_af,_b0,_ac);if(_b1.bounds.scale*_b1.micro.tick>_95){break;}}_b0=_af/5;if(!h.natural||_b0>0.9){_b1=_99(min,max,h,_ae,_af,_b0,_ac);if(_b1.bounds.scale*_b1.micro.tick>_95){break;}}_b0=_af/2;if(!h.natural||_b0>0.9){_b1=_99(min,max,h,_ae,_af,_b0,_ac);if(_b1.bounds.scale*_b1.micro.tick>_95){break;}}_b0=0;}while(false);}return _b0?_b1:_99(min,max,h,_ae,_af,0,_ac);},buildTicks:function(_b2,_b3){var _b4,_b5,_b6,_b7=_b2.major.start,_b8=_b2.minor.start,_b9=_b2.micro.start;if(_b3.microTicks&&_b2.micro.tick){_b4=_b2.micro.tick,_b5=_b9;}else{if(_b3.minorTicks&&_b2.minor.tick){_b4=_b2.minor.tick,_b5=_b8;}else{if(_b2.major.tick){_b4=_b2.major.tick,_b5=_b7;}else{return null;}}}var _ba=1/_b2.bounds.scale;if(_b2.bounds.to<=_b2.bounds.from||isNaN(_ba)||!isFinite(_ba)||_b4<=0||isNaN(_b4)||!isFinite(_b4)){return null;}var _bb=[],_bc=[],_bd=[];while(_b5<=_b2.bounds.to+_ba){if(Math.abs(_b7-_b5)<_b4/2){_b6={value:_b7};if(_b3.majorLabels){_b6.label=_98(_b7,_b2.major.prec,_b3);}_bb.push(_b6);_b7+=_b2.major.tick;_b8+=_b2.minor.tick;_b9+=_b2.micro.tick;}else{if(Math.abs(_b8-_b5)<_b4/2){if(_b3.minorTicks){_b6={value:_b8};if(_b3.minorLabels&&(_b2.minMinorStep<=_b2.minor.tick*_b2.bounds.scale)){_b6.label=_98(_b8,_b2.minor.prec,_b3);}_bc.push(_b6);}_b8+=_b2.minor.tick;_b9+=_b2.micro.tick;}else{if(_b3.microTicks){_bd.push({value:_b9});}_b9+=_b2.micro.tick;}}_b5+=_b4;}return {major:_bb,minor:_bc,micro:_bd};},getTransformerFromModel:function(_be){var _bf=_be.bounds.from,_c0=_be.bounds.scale;return function(x){return (x-_bf)*_c0;};},getTransformerFromPlot:function(_c1){var _c2=_c1.bounds.from,_c3=_c1.bounds.scale;return function(x){return x/_c3+_c2;};}});})();}if(!dojo._hasResource["dojox.charting.axis2d.common"]){dojo._hasResource["dojox.charting.axis2d.common"]=true;dojo.provide("dojox.charting.axis2d.common");(function(){var g=dojox.gfx;function _c4(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};dojo.mixin(dojox.charting.axis2d.common,{calculateHeight:function(_c5,_c6,_c7){var p=dojo.doc.createElement("div"),s=p.style;_c4(s);s.font=_c6;s.position="absolute";p.innerHTML=String(_c5);if(_c7>0){s.width=_c7+"px";s.textAlign="center";s.overflow="hidden";}s.left="-10000px";dojo.body().appendChild(p);var box=dojo.marginBox(p);dojo.body().removeChild(p);return box.h;},createText:{gfx:function(_c8,_c9,x,y,_ca,_cb,_cc,_cd){return _c9.createText({x:x,y:y,text:_cb,align:_ca}).setFont(_cc).setFill(_cd);},html:function(_ce,_cf,x,y,_d0,_d1,_d2,_d3,_d4){var p=dojo.doc.createElement("div"),s=p.style;_c4(s);s.font=_d2;s.color=_d3;s.position="absolute";if(_d4>0){p.innerHTML=String(_d1);s.width=_d4+"px";s.textAlign="center";s.overflow="hidden";}else{p.innerHTML=String(_d1).replace(/\s/g,"&nbsp;");s.whiteSpace="nowrap";}s.left="-10000px";dojo.body().appendChild(p);var _d5=g.normalizedLength(g.splitFontString(_d2).size),box=dojo.marginBox(p);dojo.body().removeChild(p);s.position="relative";switch(_d0){case "middle":s.left=Math.floor(x-box.w/2)+"px";break;case "end":s.left=Math.floor(x-box.w)+"px";break;default:s.left=Math.floor(x)+"px";break;}s.top=Math.floor(y-_d5)+"px";var _d6=dojo.doc.createElement("div"),w=_d6.style;_c4(w);w.width="0px";w.height="0px";w.zIndex=1;s.zIndex=1;_d6.appendChild(p);_ce.node.insertBefore(_d6,_ce.node.firstChild);return _d6;}}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Base"]){dojo._hasResource["dojox.charting.axis2d.Base"]=true;dojo.provide("dojox.charting.axis2d.Base");dojo.declare("dojox.charting.axis2d.Base",dojox.charting.Element,{constructor:function(_d7,_d8){this.vertical=_d8&&_d8.vertical;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,_d9){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_da){return this;}});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(_db,_dc,ch,end){if(!ch){ch="0";}var out=String(_db),pad=dojo.string.rep(ch,Math.ceil((_dc-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_dd,map,_de,_df){_df=_df||dojo.global;_de=(!_de)?function(v){return v;}:dojo.hitch(_df,_de);return _dd.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_e0,key,_e1){var _e2=dojo.getObject(key,false,map);if(_e1){_e2=dojo.getObject(_e1,false,_df).call(_df,_e2,key);}return _de(_e2,key).toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojox.lang.utils"]){dojo._hasResource["dojox.lang.utils"]=true;dojo.provide("dojox.lang.utils");(function(){var _e3={},du=dojox.lang.utils;var _e4=function(o){if(dojo.isArray(o)){return dojo._toArray(o);}if(!dojo.isObject(o)||dojo.isFunction(o)){return o;}return dojo.delegate(o);};dojo.mixin(du,{coerceType:function(_e5,_e6){switch(typeof _e5){case "number":return Number(eval("("+_e6+")"));case "string":return String(_e6);case "boolean":return Boolean(eval("("+_e6+")"));}return eval("("+_e6+")");},updateWithObject:function(_e7,_e8,_e9){if(!_e8){return _e7;}for(var x in _e7){if(x in _e8&&!(x in _e3)){var t=_e7[x];if(t&&typeof t=="object"){du.updateWithObject(t,_e8[x],_e9);}else{_e7[x]=_e9?du.coerceType(t,_e8[x]):_e4(_e8[x]);}}}return _e7;},updateWithPattern:function(_ea,_eb,_ec,_ed){if(!_eb||!_ec){return _ea;}for(var x in _ec){if(x in _eb&&!(x in _e3)){_ea[x]=_ed?du.coerceType(_ec[x],_eb[x]):_e4(_eb[x]);}}return _ea;}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Default"]){dojo._hasResource["dojox.charting.axis2d.Default"]=true;dojo.provide("dojox.charting.axis2d.Default");(function(){var dc=dojox.charting,df=dojox.lang.functional,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_ee=4;dojo.declare("dojox.charting.axis2d.Default",dojox.charting.axis2d.Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,htmlLabels:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,stroke:{},majorTick:{},minorTick:{},microTick:{},font:"",fontColor:""},constructor:function(_ef,_f0){this.opt=dojo.delegate(this.defaultParams,_f0);du.updateWithPattern(this.opt,_f0,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_f1,_f2){this.scale=_f1;this.offset=_f2;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},calculate:function(min,max,_f3,_f4){if(this.initialized()){return this;}this.labels="labels" in this.opt?this.opt.labels:_f4;this.scaler=lin.buildScaler(min,max,_f3,this.opt);if("scale" in this){this.opt.from=this.scaler.bounds.lower+this.offset;this.opt.to=(this.scaler.bounds.upper-this.scaler.bounds.lower)/this.scale+this.opt.from;if(!isFinite(this.opt.from)||isNaN(this.opt.from)||!isFinite(this.opt.to)||isNaN(this.opt.to)||this.opt.to-this.opt.from>=this.scaler.bounds.upper-this.scaler.bounds.lower){delete this.opt.from;delete this.opt.to;delete this.scale;delete this.offset;}else{if(this.opt.from<this.scaler.bounds.lower){this.opt.to+=this.scaler.bounds.lower-this.opt.from;this.opt.from=this.scaler.bounds.lower;}else{if(this.opt.to>this.scaler.bounds.upper){this.opt.from+=this.scaler.bounds.upper-this.opt.to;this.opt.to=this.scaler.bounds.upper;}}this.offset=this.opt.from-this.scaler.bounds.lower;}this.scaler=lin.buildScaler(min,max,_f3,this.opt);if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var _f5=0,ta=this.chart.theme.axis,_f6="font" in this.opt?this.opt.font:ta.font,_f7=_f6?g.normalizedLength(g.splitFontString(_f6).size):0;if(this.vertical){if(_f7){_f5=_f7+_ee;}}else{if(_f7){var _f8,i;if(this.opt.labelFunc&&this.opt.maxLabelSize){_f8=this.opt.maxLabelSize;}else{if(this.labels){_f8=df.foldl(df.map(this.labels,function(_f9){return dojox.gfx._base._getTextBox(_f9.text,{font:_f6}).w;}),"Math.max(a, b)",0);}else{var _fa=Math.ceil(Math.log(Math.max(Math.abs(this.scaler.bounds.from),Math.abs(this.scaler.bounds.to)))/Math.LN10),t=[];if(this.scaler.bounds.from<0||this.scaler.bounds.to<0){t.push("-");}t.push(dojo.string.rep("9",_fa));var _fb=Math.floor(Math.log(this.scaler.bounds.to-this.scaler.bounds.from)/Math.LN10);if(_fb>0){t.push(".");for(i=0;i<_fb;++i){t.push("9");}}_f8=dojox.gfx._base._getTextBox(t.join(""),{font:_f6}).w;}}_f5=_f8+_ee;}}this.scaler.minMinorStep=_f5;this.ticks=lin.buildTicks(this.scaler,this.opt);return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;},getOffsets:function(){var _fc={l:0,r:0,t:0,b:0},_fd,a,b,c,d,gtb=dojox.gfx._base._getTextBox,gl=dc.scaler.common.getNumericLabel,_fe=0,ta=this.chart.theme.axis,_ff="font" in this.opt?this.opt.font:ta.font,_100="majorTick" in this.opt?this.opt.majorTick:ta.majorTick,_101="minorTick" in this.opt?this.opt.minorTick:ta.minorTick,size=_ff?g.normalizedLength(g.splitFontString(_ff).size):0,s=this.scaler;if(!s){return _fc;}if(this.vertical){if(size){if(this.opt.labelFunc&&this.opt.maxLabelSize){_fd=this.opt.maxLabelSize;}else{if(this.labels){_fd=df.foldl(df.map(this.labels,function(_102){return gtb(_102.text,{font:_ff}).w;}),"Math.max(a, b)",0);}else{a=gtb(gl(s.major.start,s.major.prec,this.opt),{font:_ff}).w;b=gtb(gl(s.major.start+s.major.count*s.major.tick,s.major.prec,this.opt),{font:_ff}).w;c=gtb(gl(s.minor.start,s.minor.prec,this.opt),{font:_ff}).w;d=gtb(gl(s.minor.start+s.minor.count*s.minor.tick,s.minor.prec,this.opt),{font:_ff}).w;_fd=Math.max(a,b,c,d);}}_fe=_fd+_ee;}_fe+=_ee+Math.max(_100.length,_101.length);_fc[this.opt.leftBottom?"l":"r"]=_fe;_fc.t=_fc.b=size/2;}else{if(size){var _103=0,f=lin.getTransformerFromModel(this.scaler);dojo.forEach(this.labels,function(t){var step=t.major&&t.major[1]?f(t.major[1].value)-f(t.major[0].value)-2:300;var h=dc.axis2d.common.calculateHeight(t.text,_ff,step);if(h>_103){_103=h;}});_fe=_ee+_103+5;}_fe+=_ee+Math.max(_100.length,_101.length);_fc[this.opt.leftBottom?"b":"t"]=_fe;if(size){if(this.opt.labelFunc&&this.opt.maxLabelSize){_fd=this.opt.maxLabelSize;}else{if(this.labels){_fd=df.foldl(df.map(this.labels,function(_104){return dojox.gfx._base._getTextBox(_104.text,{font:_ff}).w;}),"Math.max(a, b)",0);}else{a=gtb(gl(s.major.start,s.major.prec,this.opt),{font:_ff}).w;b=gtb(gl(s.major.start+s.major.count*s.major.tick,s.major.prec,this.opt),{font:_ff}).w;c=gtb(gl(s.minor.start,s.minor.prec,this.opt),{font:_ff}).w;d=gtb(gl(s.minor.start+s.minor.count*s.minor.tick,s.minor.prec,this.opt),{font:_ff}).w;_fd=Math.max(a,b,c,d);}}_fc.l=_fc.r=_fd/2;}}return _fc;},render:function(dim,_105){if(!this.dirty){return this;}var _106,stop,_107,_108,_109,_10a,ta=this.chart.theme.axis,_10b="stroke" in this.opt?this.opt.stroke:ta.stroke,_10c="majorTick" in this.opt?this.opt.majorTick:ta.majorTick,_10d="minorTick" in this.opt?this.opt.minorTick:ta.minorTick,_10e="microTick" in this.opt?this.opt.microTick:ta.minorTick,_10f="font" in this.opt?this.opt.font:ta.font,_110="fontColor" in this.opt?this.opt.fontColor:ta.fontColor,_111=Math.max(_10c.length,_10d.length),size=_10f?g.normalizedLength(g.splitFontString(_10f).size):0;if(this.vertical){_106={y:dim.height-_105.b};stop={y:_105.t};_107={x:0,y:-1};if(this.opt.leftBottom){_106.x=stop.x=_105.l;_108={x:-1,y:0};_10a="end";}else{_106.x=stop.x=dim.width-_105.r;_108={x:1,y:0};_10a="start";}_109={x:_108.x*(_111+_ee),y:size*0.4};}else{_106={x:_105.l};stop={x:dim.width-_105.r};_107={x:1,y:0};_10a="middle";if(this.opt.leftBottom){_106.y=stop.y=dim.height-_105.b;_108={x:0,y:1};_109={y:_111+_ee+size};}else{_106.y=stop.y=_105.t;_108={x:0,y:-1};_109={y:-_111-_ee};}_109.x=0;}this.cleanGroup();try{var s=this.group,c=this.scaler,t=this.ticks,_112,f=lin.getTransformerFromModel(this.scaler),_113=dojox.gfx.renderer=="canvas",_114=_113||this.opt.htmlLabels&&!dojo.isOpera?"html":"gfx",dx=_108.x*_10c.length,dy=_108.y*_10c.length;var step=t.major&&t.major[1]?f(t.major[1].value)-f(t.major[0].value)-2:300;s.createLine({x1:_106.x,y1:_106.y,x2:stop.x,y2:stop.y}).setStroke(_10b);_112=c.minMinorStep<=c.minor.tick*c.bounds.scale;dojo.forEach(t.major,function(tick){var _115=f(tick.value),elem,x=_106.x+_107.x*_115,y=_106.y+_107.y*_115;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_10c);if(tick.label){elem=dc.axis2d.common.createText[_114](this.chart,s,x+_109.x,y+_109.y,_10a,tick.label,_10f,_110,!this.vertical&&t.major[1]&&step.floor());if(_114=="html"){this.htmlElements.push(elem);}}},this);dx=_108.x*_10d.length;dy=_108.y*_10d.length;dojo.forEach(t.minor,function(tick){var _116=f(tick.value),elem,x=_106.x+_107.x*_116,y=_106.y+_107.y*_116;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_10d);if(_112&&tick.label){elem=dc.axis2d.common.createText[_114](this.chart,s,x+_109.x,y+_109.y,_10a,tick.label,_10f,_110);if(_114=="html"){this.htmlElements.push(elem);}}},this);dx=_108.x*_10e.length;dy=_108.y*_10e.length;dojo.forEach(t.micro,function(tick){var _117=f(tick.value),elem,x=_106.x+_107.x*_117,y=_106.y+_107.y*_117;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_10e);},this);}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(_118){var _119=_118.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_119==1&&dojo.date.isLeapYear(_118)){return 29;}return days[_119];};dojo.date.isLeapYear=function(_11a){var year=_11a.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_11b){var str=_11b.toString();var tz="";var _11c;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_11c=str.match(pat))){tz=_11c[1];}else{str=_11b.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_11c=str.match(pat))){tz=_11c[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_11d,_11e,_11f){_11d=new Date(Number(_11d));_11e=new Date(Number(_11e||new Date()));if(_11f!=="undefined"){if(_11f=="date"){_11d.setHours(0,0,0,0);_11e.setHours(0,0,0,0);}else{if(_11f=="time"){_11d.setFullYear(0,0,0);_11e.setFullYear(0,0,0);}}}if(_11d>_11e){return 1;}if(_11d<_11e){return -1;}return 0;};dojo.date.add=function(date,_120,_121){var sum=new Date(Number(date));var _122=false;var _123="Date";switch(_120){case "day":break;case "weekday":var days,_124;var mod=_121%5;if(!mod){days=(_121>0)?5:-5;_124=(_121>0)?((_121-5)/5):((_121+5)/5);}else{days=mod;_124=parseInt(_121/5);}var strt=date.getDay();var adj=0;if(strt==6&&_121>0){adj=1;}else{if(strt==0&&_121<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_121>0)?2:-2;}_121=(7*_124)+days+adj;break;case "year":_123="FullYear";_122=true;break;case "week":_121*=7;break;case "quarter":_121*=3;case "month":_122=true;_123="Month";break;case "hour":case "minute":case "second":case "millisecond":_123="UTC"+_120.charAt(0).toUpperCase()+_120.substring(1)+"s";}if(_123){sum["set"+_123](sum["get"+_123]()+_121);}if(_122&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_125,_126,_127){_126=_126||new Date();_127=_127||"day";var _128=_126.getFullYear()-_125.getFullYear();var _129=1;switch(_127){case "quarter":var m1=_125.getMonth();var m2=_126.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_128*4);_129=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_125,_126,"day"));var _12a=parseInt(dojo.date.difference(_125,_126,"week"));var mod=days%7;if(mod==0){days=_12a*5;}else{var adj=0;var aDay=_125.getDay();var bDay=_126.getDay();_12a=parseInt(days/7);mod=days%7;var _12b=new Date(_125);_12b.setDate(_12b.getDate()+(_12a*7));var _12c=_12b.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_12c+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_12c+mod)<0:adj=2;}}}days+=adj;days-=(_12a*2);}_129=days;break;case "year":_129=_128;break;case "month":_129=(_126.getMonth()-_125.getMonth())+(_128*12);break;case "week":_129=parseInt(dojo.date.difference(_125,_126,"day")/7);break;case "day":_129/=24;case "hour":_129/=60;case "minute":_129/=60;case "second":_129/=1000;case "millisecond":_129*=_126.getTime()-_125.getTime();}return Math.round(_129);};}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_12d,_12e,_12f){_12f=dojo.i18n.normalizeLocale(_12f);var _130=_12f.split("-");var _131=[_12d,"nls",_12e].join(".");var _132=dojo._loadedModules[_131];if(_132){var _133;for(var i=_130.length;i>0;i--){var loc=_130.slice(0,i).join("_");if(_132[loc]){_133=_132[loc];break;}}if(!_133){_133=_132.ROOT;}if(_133){var _134=function(){};_134.prototype=_133;return new _134();}}throw new Error("Bundle not found: "+_12e+" in "+_12d+" , locale="+_12f);};dojo.i18n.normalizeLocale=function(_135){var _136=_135?_135.toLowerCase():dojo.locale;if(_136=="root"){_136="ROOT";}return _136;};dojo.i18n._requireLocalization=function(_137,_138,_139,_13a){var _13b=dojo.i18n.normalizeLocale(_139);var _13c=[_137,"nls",_138].join(".");var _13d="";if(_13a){var _13e=_13a.split(",");for(var i=0;i<_13e.length;i++){if(_13b["indexOf"](_13e[i])==0){if(_13e[i].length>_13d.length){_13d=_13e[i];}}}if(!_13d){_13d="ROOT";}}var _13f=_13a?_13d:_13b;var _140=dojo._loadedModules[_13c];var _141=null;if(_140){if(dojo.config.localizationComplete&&_140._built){return;}var _142=_13f.replace(/-/g,"_");var _143=_13c+"."+_142;_141=dojo._loadedModules[_143];}if(!_141){_140=dojo["provide"](_13c);var syms=dojo._getModuleSymbols(_137);var _144=syms.concat("nls").join("/");var _145;dojo.i18n._searchLocalePath(_13f,_13a,function(loc){var _146=loc.replace(/-/g,"_");var _147=_13c+"."+_146;var _148=false;if(!dojo._loadedModules[_147]){dojo["provide"](_147);var _149=[_144];if(loc!="ROOT"){_149.push(loc);}_149.push(_138);var _14a=_149.join("/")+".js";_148=dojo._loadPath(_14a,null,function(hash){var _14b=function(){};_14b.prototype=_145;_140[_146]=new _14b();for(var j in hash){_140[_146][j]=hash[j];}});}else{_148=true;}if(_148&&_140[_146]){_145=_140[_146];}else{_140[_146]=_145;}if(_13a){return true;}});}if(_13a&&_13b!=_13d){_140[_13b.replace(/-/g,"_")]=_140[_13d.replace(/-/g,"_")];}};(function(){var _14c=dojo.config.extraLocale;if(_14c){if(!_14c instanceof Array){_14c=[_14c];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_14d,_14e){req(m,b,_14d,_14e);if(_14d){return;}for(var i=0;i<_14c.length;i++){req(m,b,_14c[i],_14e);}};}})();dojo.i18n._searchLocalePath=function(_14f,down,_150){_14f=dojo.i18n.normalizeLocale(_14f);var _151=_14f.split("-");var _152=[];for(var i=_151.length;i>0;i--){_152.push(_151.slice(0,i).join("-"));}_152.push(false);if(down){_152.reverse();}for(var j=_152.length-1;j>=0;j--){var loc=_152[j]||"ROOT";var stop=_150(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_153,_154){function _155(_156){_156=dojo.i18n.normalizeLocale(_156);dojo.i18n._searchLocalePath(_156,true,function(loc){for(var i=0;i<_154.length;i++){if(_154[i]==loc){dojo["require"](_153+"_"+loc);return true;}}return false;});};_155();var _157=dojo.config.extraLocale||[];for(var i=0;i<_157.length;i++){_155(_157[i]);}};}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(_158){var _159={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,sy:4};var _15a=dojo.cldr.supplemental._region(_158);var dow=_159[_15a];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function(_15b){_15b=dojo.i18n.normalizeLocale(_15b);var tags=_15b.split("-");var _15c=tags[1];if(!_15c){_15c={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_15c.length==4){_15c=tags[2];}}return _15c;};dojo.cldr.supplemental.getWeekend=function(_15d){var _15e={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _15f={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _160=dojo.cldr.supplemental._region(_15d);var _161=_15e[_160];var end=_15f[_160];if(_161===undefined){_161=6;}if(end===undefined){end=0;}return {start:_161,end:end};};}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_162){return str.replace(/([\.$?*|{}\(\)\[\]\\\/^])/g,function(ch){if(_162&&_162.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_163){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_163);};dojo.regexp.group=function(_164,_165){return "("+(_165?"?:":"")+_164+")";};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function _166(_167,_168,_169,_16a){return _16a.replace(/([a-z])\1*/ig,function(_16b){var s,pad;var c=_16b.charAt(0);var l=_16b.length;var _16c=["abbr","wide","narrow"];switch(c){case "G":s=_168[(l<4)?"eraAbbr":"eraNames"][_167.getFullYear()<0?0:1];break;case "y":s=_167.getFullYear();switch(l){case 1:break;case 2:if(!_169){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_167.getMonth()+1)/3);pad=true;break;case "M":var m=_167.getMonth();if(l<3){s=m+1;pad=true;}else{var _16d=["months","format",_16c[l-3]].join("-");s=_168[_16d][m];}break;case "w":var _16e=0;s=dojo.date.locale._getWeekOfYear(_167,_16e);pad=true;break;case "d":s=_167.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_167);pad=true;break;case "E":var d=_167.getDay();if(l<3){s=d+1;pad=true;}else{var _16f=["days","format",_16c[l-3]].join("-");s=_168[_16f][d];}break;case "a":var _170=(_167.getHours()<12)?"am":"pm";s=_168[_170];break;case "h":case "H":case "K":case "k":var h=_167.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_167.getMinutes();pad=true;break;case "s":s=_167.getSeconds();pad=true;break;case "S":s=Math.round(_167.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.getTimezoneName(_167);if(s){break;}l=4;case "Z":var _171=_167.getTimezoneOffset();var tz=[(_171<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_171)/60),2),dojo.string.pad(Math.abs(_171)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_16a);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale.format=function(_172,_173){_173=_173||{};var _174=dojo.i18n.normalizeLocale(_173.locale);var _175=_173.formatLength||"short";var _176=dojo.date.locale._getGregorianBundle(_174);var str=[];var _177=dojo.hitch(this,_166,_172,_176,_173.fullYear);if(_173.selector=="year"){var year=_172.getFullYear();if(_174.match(/^zh|^ja/)){year+="";}return year;}if(_173.selector!="time"){var _178=_173.datePattern||_176["dateFormat-"+_175];if(_178){str.push(_179(_178,_177));}}if(_173.selector!="date"){var _17a=_173.timePattern||_176["timeFormat-"+_175];if(_17a){str.push(_179(_17a,_177));}}var _17b=str.join(" ");return _17b;};dojo.date.locale.regexp=function(_17c){return dojo.date.locale._parseInfo(_17c).regexp;};dojo.date.locale._parseInfo=function(_17d){_17d=_17d||{};var _17e=dojo.i18n.normalizeLocale(_17d.locale);var _17f=dojo.date.locale._getGregorianBundle(_17e);var _180=_17d.formatLength||"short";var _181=_17d.datePattern||_17f["dateFormat-"+_180];var _182=_17d.timePattern||_17f["timeFormat-"+_180];var _183;if(_17d.selector=="date"){_183=_181;}else{if(_17d.selector=="time"){_183=_182;}else{_183=_181+" "+_182;}}var _184=[];var re=_179(_183,dojo.hitch(this,_185,_184,_17f,_17d));return {regexp:re,tokens:_184,bundle:_17f};};dojo.date.locale.parse=function(_186,_187){var info=dojo.date.locale._parseInfo(_187);var _188=info.tokens,_189=info.bundle;var re=new RegExp("^"+info.regexp+"$",info.strict?"":"i");var _18a=re.exec(_186);if(!_18a){return null;}var _18b=["abbr","wide","narrow"];var _18c=[1970,0,1,0,0,0,0];var amPm="";var _18d=dojo.every(_18a,function(v,i){if(!i){return true;}var _18e=_188[i-1];var l=_18e.length;switch(_18e.charAt(0)){case "y":if(l!=2&&_187.strict){_18c[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear();var _18f=year.substring(0,2)*100;var _190=Math.min(Number(year.substring(2,4))+20,99);var num=(v<_190)?_18f+v:_18f-100+v;_18c[0]=num;}else{if(_187.strict){return false;}_18c[0]=v;}}break;case "M":if(l>2){var _191=_189["months-format-"+_18b[l-3]].concat();if(!_187.strict){v=v.replace(".","").toLowerCase();_191=dojo.map(_191,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_191,v);if(v==-1){return false;}}else{v--;}_18c[1]=v;break;case "E":case "e":var days=_189["days-format-"+_18b[l-3]].concat();if(!_187.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_18c[1]=0;case "d":_18c[2]=v;break;case "a":var am=_187.am||_189.am;var pm=_187.pm||_189.pm;if(!_187.strict){var _192=/\./g;v=v.replace(_192,"").toLowerCase();am=am.replace(_192,"").toLowerCase();pm=pm.replace(_192,"").toLowerCase();}if(_187.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_18c[3]=v;break;case "m":_18c[4]=v;break;case "s":_18c[5]=v;break;case "S":_18c[6]=v;}return true;});var _193=+_18c[3];if(amPm==="p"&&_193<12){_18c[3]=_193+12;}else{if(amPm==="a"&&_193==12){_18c[3]=0;}}var _194=new Date(_18c[0],_18c[1],_18c[2],_18c[3],_18c[4],_18c[5],_18c[6]);if(_187.strict){_194.setFullYear(_18c[0]);}var _195=_188.join("");if(!_18d||(_195.indexOf("M")!=-1&&_194.getMonth()!=_18c[1])||(_195.indexOf("d")!=-1&&_194.getDate()!=_18c[2])){return null;}return _194;};function _179(_196,_197,_198,_199){var _19a=function(x){return x;};_197=_197||_19a;_198=_198||_19a;_199=_199||_19a;var _19b=_196.match(/(''|[^'])+/g);var _19c=_196.charAt(0)=="'";dojo.forEach(_19b,function(_19d,i){if(!_19d){_19b[i]="";}else{_19b[i]=(_19c?_198:_197)(_19d);_19c=!_19c;}});return _199(_19b.join(""));};function _185(_19e,_19f,_1a0,_1a1){_1a1=dojo.regexp.escapeString(_1a1);if(!_1a0.strict){_1a1=_1a1.replace(" a"," ?a");}return _1a1.replace(/([a-z])\1*/ig,function(_1a2){var s;var c=_1a2.charAt(0);var l=_1a2.length;var p2="",p3="";if(_1a0.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_1a0.am||_19f.am||"AM";var pm=_1a0.pm||_19f.pm||"PM";if(_1a0.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_19e){_19e.push(_1a2);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _1a3=[];dojo.date.locale.addCustomFormats=function(_1a4,_1a5){_1a3.push({pkg:_1a4,name:_1a5});};dojo.date.locale._getGregorianBundle=function(_1a6){var _1a7={};dojo.forEach(_1a3,function(desc){var _1a8=dojo.i18n.getLocalization(desc.pkg,desc.name,_1a6);_1a7=dojo.mixin(_1a7,_1a8);},this);return _1a7;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,_1a9,_1aa){var _1ab;var _1ac=dojo.date.locale._getGregorianBundle(_1aa);var _1ad=[item,_1a9,type];if(_1a9=="standAlone"){var key=_1ad.join("-");_1ab=_1ac[key];if(_1ab[0]==1){_1ab=undefined;}}_1ad[1]="format";return (_1ab||_1ac[_1ad.join("-")]).concat();};dojo.date.locale.displayPattern=function(_1ae,_1af){var _1b0="GyMdkHmsSEDFwWahKzYeugAZvcL",_1b1=dojo.date.locale._getGregorianBundle(_1af).patternChars;return dojo.map(_1ae,function(c){var i=_1b0.indexOf(c);return i<0?c:_1b1.charAt(i);}).join("");};dojo.date.locale.isWeekend=function(_1b2,_1b3){var _1b4=dojo.cldr.supplemental.getWeekend(_1b3);var day=(_1b2||new Date()).getDay();if(_1b4.end<_1b4.start){_1b4.end+=7;if(day<_1b4.start){day+=7;}}return day>=_1b4.start&&day<=_1b4.end;};dojo.date.locale._getDayOfYear=function(_1b5){return dojo.date.difference(new Date(_1b5.getFullYear(),0,1,_1b5.getHours()),_1b5)+1;};dojo.date.locale._getWeekOfYear=function(_1b6,_1b7){if(arguments.length==1){_1b7=0;}var _1b8=new Date(_1b6.getFullYear(),0,1).getDay();var adj=(_1b8-_1b7+7)%7;var week=Math.floor((dojo.date.locale._getDayOfYear(_1b6)+adj-1)/7);if(_1b8==_1b7){week++;}return week;};}if(!dojo._hasResource["dojox.charting.scaler.date"]){dojo._hasResource["dojox.charting.scaler.date"]=true;dojo.provide("dojox.charting.scaler.date");(function(){var _1b9=3,dc=dojox.charting,dcs=dc.scaler,dcsc=dcs.common,_1ba=dcsc.findString,_1bb=dcsc.getNumericLabel;var _1bc=function(min,max,_1bd,_1be,_1bf,_1c0,span){_1bd=dojo.clone(_1bd);if(!_1be){if(_1bd.fixUpper=="major"){_1bd.fixUpper="minor";}if(_1bd.fixLower=="major"){_1bd.fixLower="minor";}}if(!_1bf){if(_1bd.fixUpper=="minor"){_1bd.fixUpper="micro";}if(_1bd.fixLower=="minor"){_1bd.fixLower="micro";}}if(!_1c0){if(_1bd.fixUpper=="micro"){_1bd.fixUpper="none";}if(_1bd.fixLower=="micro"){_1bd.fixLower="none";}}var _1c1=_1ba(_1bd.fixLower,["major"])?Math.floor(_1bd.min/_1be)*_1be:_1ba(_1bd.fixLower,["minor"])?Math.floor(_1bd.min/_1bf)*_1bf:_1ba(_1bd.fixLower,["micro"])?Math.floor(_1bd.min/_1c0)*_1c0:_1bd.min,_1c2=_1ba(_1bd.fixUpper,["major"])?Math.ceil(_1bd.max/_1be)*_1be:_1ba(_1bd.fixUpper,["minor"])?Math.ceil(_1bd.max/_1bf)*_1bf:_1ba(_1bd.fixUpper,["micro"])?Math.ceil(_1bd.max/_1c0)*_1c0:_1bd.max;if(_1bd.useMin){min=_1c1;}if(_1bd.useMax){max=_1c2;}var _1c3=(!_1be||_1bd.useMin&&_1ba(_1bd.fixLower,["major"]))?min:Math.ceil(min/_1be)*_1be,_1c4=(!_1bf||_1bd.useMin&&_1ba(_1bd.fixLower,["major","minor"]))?min:Math.ceil(min/_1bf)*_1bf,_1c5=(!_1c0||_1bd.useMin&&_1ba(_1bd.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_1c0)*_1c0,_1c6=!_1be?0:(_1bd.useMax&&_1ba(_1bd.fixUpper,["major"])?Math.round((max-_1c3)/_1be):Math.floor((max-_1c3)/_1be))+1,_1c7=!_1bf?0:(_1bd.useMax&&_1ba(_1bd.fixUpper,["major","minor"])?Math.round((max-_1c4)/_1bf):Math.floor((max-_1c4)/_1bf))+1,_1c8=!_1c0?0:(_1bd.useMax&&_1ba(_1bd.fixUpper,["major","minor","micro"])?Math.round((max-_1c5)/_1c0):Math.floor((max-_1c5)/_1c0))+1,_1c9=_1bf?Math.round(_1be/_1bf):0,_1ca=_1c0?Math.round(_1bf/_1c0):0,_1cb=_1be?Math.floor(Math.log(_1be)/Math.LN10):0,_1cc=_1bf?Math.floor(Math.log(_1bf)/Math.LN10):0,_1cd=span/(max-min);if(!isFinite(_1cd)){_1cd=1;}if(_1bd.dateStep){var _1ce=new Date(max);var _1cf=new Date(min);var _1d0=["date","month","quarter","year"];if(!_1d0.include(_1bd.dateStep.type)){_1bd.dateStep.type="date";}var _1d1=_1ce.getUTCFullYear()-_1cf.getUTCFullYear();if(_1bd.dateStep.type=="month"){_1d1*=12;_1d1+=_1ce.getUTCMonth()-_1cf.getUTCMonth();}else{if(_1bd.dateStep.type=="quarter"){_1d1*=4;_1d1+=Math.floor(_1ce.getUTCMonth()/3)-Math.floor(_1cf.getUTCMonth()/3);}else{if(_1bd.dateStep.type=="date"){_1d1=(max-min)/86400000;}}}_1d1++;_1c6=Math.max(Math.min(_1bd.dateStep.count,_1d1),1);_1be=Math.ceil((_1d1)/_1c6)||1;majorOffset=Math.floor((_1d1-(_1c6-1)*_1be)/2);if(majorOffset<0&&_1be>1){_1be--;majorOffset=Math.floor((_1d1-(_1c6-1)*_1be)/2);if(majorOffset<0){majorOffset=0;}}if(majorOffset>_1be){majorOffset=_1be;}_1c3=min;majorTickType=_1bd.dateStep.type;}return {bounds:{lower:_1c1,upper:_1c2,from:min,to:max,scale:_1cd,span:span},major:{tick:_1be,start:_1c3,count:_1c6,type:majorTickType,offset:majorOffset},minor:{tick:_1bf,start:_1c4,count:_1c7,prec:_1cc},micro:{tick:_1c0,start:_1c5,count:_1c8,prec:0},minorPerMajor:_1c9,microPerMinor:_1ca,scaler:dcs.date};};dojo.mixin(dojox.charting.scaler.date,{buildScaler:function(min,max,span,_1d2){var h={fixUpper:"none",fixLower:"none",natural:false};if(_1d2){if("fixUpper" in _1d2){h.fixUpper=String(_1d2.fixUpper);}if("fixLower" in _1d2){h.fixLower=String(_1d2.fixLower);}if("natural" in _1d2){h.natural=Boolean(_1d2.natural);}if("dateStep" in _1d2){h.dateStep={type:"date",count:2};if("type" in _1d2.dateStep){h.dateStep.type=String(_1d2.dateStep.type);}if("count" in _1d2.dateStep){h.dateStep.count=Number(_1d2.dateStep.count);}}}if("min" in _1d2){min=_1d2.min;}if("max" in _1d2){max=_1d2.max;}if(_1d2.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _1d2){min=_1d2.from;h.useMin=false;}if("to" in _1d2){max=_1d2.to;h.useMax=false;}if(max<=min){return _1bc(min,max,h,0,0,0,span);}var _1d3=_1d2&&("majorTickStep" in _1d2)?_1d2.majorTickStep:(max-min)/4,_1d4=0,_1d5=0,_1d6;if(_1d2&&("minorTickStep" in _1d2)){_1d4=_1d2.minorTickStep;}else{do{_1d4=_1d3/10;if(!h.natural||_1d4>0.9){_1d6=_1bc(min,max,h,_1d3,_1d4,0,span);if(_1d6.bounds.scale*_1d6.minor.tick>_1b9){break;}}_1d4=_1d3/5;if(!h.natural||_1d4>0.9){_1d6=_1bc(min,max,h,_1d3,_1d4,0,span);if(_1d6.bounds.scale*_1d6.minor.tick>_1b9){break;}}_1d4=_1d3/2;if(!h.natural||_1d4>0.9){_1d6=_1bc(min,max,h,_1d3,_1d4,0,span);if(_1d6.bounds.scale*_1d6.minor.tick>_1b9){break;}}return _1bc(min,max,h,_1d3,0,0,span);}while(false);}if(_1d2&&("microTickStep" in _1d2)){_1d5=_1d2.microTickStep;_1d6=_1bc(min,max,h,_1d3,_1d4,_1d5,span);}else{do{_1d5=_1d4/10;if(!h.natural||_1d5>0.9){_1d6=_1bc(min,max,h,_1d3,_1d4,_1d5,span);if(_1d6.bounds.scale*_1d6.micro.tick>_1b9){break;}}_1d5=_1d4/5;if(!h.natural||_1d5>0.9){_1d6=_1bc(min,max,h,_1d3,_1d4,_1d5,span);if(_1d6.bounds.scale*_1d6.micro.tick>_1b9){break;}}_1d5=_1d4/2;if(!h.natural||_1d5>0.9){_1d6=_1bc(min,max,h,_1d3,_1d4,_1d5,span);if(_1d6.bounds.scale*_1d6.micro.tick>_1b9){break;}}_1d5=0;}while(false);}return _1d5?_1d6:_1bc(min,max,h,_1d3,_1d4,0,span);},buildTicks:function(_1d7,_1d8){var step,next,tick,_1d9=_1d7.major.start,_1da=_1d7.minor.start,_1db=_1d7.micro.start;if(_1d8.microTicks&&_1d7.micro.tick){step=_1d7.micro.tick,next=_1db;}else{if(_1d8.minorTicks&&_1d7.minor.tick){step=_1d7.minor.tick,next=_1da;}else{if(_1d7.major.tick){step=_1d7.major.tick;next=new Date(_1d9);if(_1d7.major.type=="date"){next.setUTCDate(next.getUTCDate()+_1d7.major.offset);}else{if(_1d7.major.type=="quarter"){next.setUTCMonth((Math.floor(next.getUTCMonth()/3)+_1d7.major.offset)*3);}else{if(_1d7.major.type=="month"){next.setUTCMonth(next.getUTCMonth()+_1d7.major.offset);}else{if(_1d7.major.type=="year"){next.setUTCFullYear(next.getUTCFullYear()+_1d7.major.offset);}}}}_1d9=next=Number(next);}else{return null;}}}var _1dc=[],_1dd=[],_1de=[];while(next<=_1d7.bounds.to+1/_1d7.bounds.scale){if(Math.abs(_1d9-next)<step/2){tick={value:_1d9};if(_1d8.majorLabels){tick.label=_1bb(_1d9,_1d7.major.prec,_1d8);}_1dc.push(tick);if(_1d8){_1d9=new Date(_1d9);if(_1d7.major.type=="date"){_1d9.setUTCDate(_1d9.getUTCDate()+_1d7.major.tick);}else{if(_1d7.major.type=="month"){_1d9.setUTCMonth(_1d9.getUTCMonth()+_1d7.major.tick);_1d9.setUTCDate(1);}else{if(_1d7.major.type=="quarter"){_1d9.setUTCMonth((Math.floor(_1d9.getUTCMonth()/3)+_1d7.major.tick)*3);_1d9.setUTCDate(1);}else{if(_1d7.major.type=="year"){_1d9.setUTCFullYear(_1d9.getUTCFullYear()+_1d7.major.tick);_1d9.setUTCMonth(0);_1d9.setUTCDate(1);}}}}_1d9=Number(_1d9);_1da+=_1d7.minor.tick;_1db+=_1d7.micro.tick;step=_1d9-next;}else{_1d9+=_1d7.major.tick;_1da+=_1d7.minor.tick;_1db+=_1d7.micro.tick;}}else{if(Math.abs(_1da-next)<step/2){if(_1d8.minorTicks){tick={value:_1da};if(_1d8.minorLabels&&(_1d7.minMinorStep<=_1d7.minor.tick*_1d7.bounds.scale)){tick.label=_1bb(_1da,_1d7.minor.prec,_1d8);}_1dd.push(tick);}_1da+=_1d7.minor.tick;_1db+=_1d7.micro.tick;}else{if(_1d8.microTicks){_1de.push({value:_1db});}_1db+=_1d7.micro.tick;}}next+=step;}return {major:_1dc,minor:_1dd,micro:_1de};},getTransformerFromModel:function(_1df){var _1e0=_1df.bounds.from,_1e1=_1df.bounds.scale;return function(x){return (x-_1e0)*_1e1;};},getTransformerFromPlot:function(_1e2){var _1e3=_1e2.bounds.from,_1e4=_1e2.bounds.scale;return function(x){return x/_1e4+_1e3;};}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Date"]){dojo._hasResource["dojox.charting.axis2d.Date"]=true;dojo.provide("dojox.charting.axis2d.Date");(function(){var dc=dojox.charting,df=dojox.lang.functional,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.date,_1e5=4;dojo.declare("dojox.charting.axis2d.Date",dojox.charting.axis2d.Default,{calculate:function(min,max,span,_1e6){if(this.initialized()){return this;}this.labels="labels" in this.opt?this.opt.labels:_1e6;this.scaler=lin.buildScaler(min,max,span,this.opt);if("scale" in this){this.opt.from=this.scaler.bounds.lower+this.offset;this.opt.to=(this.scaler.bounds.upper-this.scaler.bounds.lower)/this.scale+this.opt.from;if(!isFinite(this.opt.from)||isNaN(this.opt.from)||!isFinite(this.opt.to)||isNaN(this.opt.to)||this.opt.to-this.opt.from>=this.scaler.bounds.upper-this.scaler.bounds.lower){delete this.opt.from;delete this.opt.to;delete this.scale;delete this.offset;}else{if(this.opt.from<this.scaler.bounds.lower){this.opt.to+=this.scaler.bounds.lower-this.opt.from;this.opt.from=this.scaler.bounds.lower;}else{if(this.opt.to>this.scaler.bounds.upper){this.opt.from+=this.scaler.bounds.upper-this.opt.to;this.opt.to=this.scaler.bounds.upper;}}this.offset=this.opt.from-this.scaler.bounds.lower;}this.scaler=lin.buildScaler(min,max,span,this.opt);if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var _1e7=0,ta=this.chart.theme.axis,_1e8="font" in this.opt?this.opt.font:ta.font,size=_1e8?g.normalizedLength(g.splitFontString(_1e8).size):0;if(this.vertical){if(size){_1e7=size+_1e5;}}else{if(size){var _1e9,i;if(this.labels){_1e9=df.foldl(df.map(this.labels,function(_1ea){return dojox.gfx._base._getTextBox(_1ea.text,{font:_1e8}).w;}),"Math.max(a, b)",0);}else{var _1eb=Math.ceil(Math.log(Math.max(Math.abs(this.scaler.bounds.from),Math.abs(this.scaler.bounds.to)))/Math.LN10),t=[];if(this.scaler.bounds.from<0||this.scaler.bounds.to<0){t.push("-");}t.push(dojo.string.rep("9",_1eb));var _1ec=Math.floor(Math.log(this.scaler.bounds.to-this.scaler.bounds.from)/Math.LN10);if(_1ec>0){t.push(".");for(i=0;i<_1ec;++i){t.push("9");}}_1e9=dojox.gfx._base._getTextBox(t.join(""),{font:_1e8}).w;}_1e7=_1e9+_1e5;}}this.scaler.minMinorStep=_1e7;this.ticks=lin.buildTicks(this.scaler,this.opt);return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.common"]){dojo._hasResource["dojox.charting.plot2d.common"]=true;dojo.provide("dojox.charting.plot2d.common");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common;dojo.mixin(dojox.charting.plot2d.common,{makeStroke:function(_1ed){if(!_1ed){return _1ed;}if(typeof _1ed=="string"||_1ed instanceof dojo.Color){_1ed={color:_1ed};}return dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_1ed);},augmentColor:function(_1ee,_1ef){var t=new dojo.Color(_1ee),c=new dojo.Color(_1ef);c.a=t.a;return c;},augmentStroke:function(_1f0,_1f1){var s=dc.makeStroke(_1f0);if(s){s.color=dc.augmentColor(s.color,_1f1);}return s;},augmentFill:function(fill,_1f2){var fc,c=new dojo.Color(_1f2);if(typeof fill=="string"||fill instanceof dojo.Color){return dc.augmentColor(fill,_1f2);}return fill;},defaultStats:{hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY,vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_1f3){var _1f4=dojo.clone(dc.defaultStats);for(var i=0;i<_1f3.length;++i){var run=_1f3[i];if(!run.data.length){continue;}if(typeof run.data[0]=="number"){var _1f5=_1f4.vmin,_1f6=_1f4.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x=i+1,y=val;if(isNaN(y)){y=0;}_1f4.hmin=Math.min(_1f4.hmin,x);_1f4.hmax=Math.max(_1f4.hmax,x);_1f4.vmin=Math.min(_1f4.vmin,y);_1f4.vmax=Math.max(_1f4.vmax,y);});}if("ymin" in run){_1f4.vmin=Math.min(_1f5,run.ymin);}if("ymax" in run){_1f4.vmax=Math.max(_1f6,run.ymax);}}else{var _1f7=_1f4.hmin,_1f8=_1f4.hmax,_1f5=_1f4.vmin,_1f6=_1f4.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x=val.x,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_1f4.hmin=Math.min(_1f4.hmin,x);_1f4.hmax=Math.max(_1f4.hmax,x);_1f4.vmin=Math.min(_1f4.vmin,y);_1f4.vmax=Math.max(_1f4.vmax,y);});}if("xmin" in run){_1f4.hmin=Math.min(_1f7,run.xmin);}if("xmax" in run){_1f4.hmax=Math.max(_1f8,run.xmax);}if("ymin" in run){_1f4.vmin=Math.min(_1f5,run.ymin);}if("ymax" in run){_1f4.vmax=Math.max(_1f6,run.ymax);}}}return _1f4;},calculateBarSize:function(_1f9,opt,_1fa){if(!_1fa){_1fa=1;}var gap=opt.gap,size=(_1f9-2*gap)/_1fa;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_1f9-size*_1fa)/2;return {size:size,gap:gap};},collectStackedStats:function(_1fb){var _1fc=dojo.clone(dc.defaultStats);if(_1fb.length){_1fc.hmin=Math.min(_1fc.hmin,1);_1fc.hmax=df.foldl(_1fb,"seed, run -> Math.max(seed, run.data.length)",_1fc.hmax);for(var i=0;i<_1fc.hmax;++i){var v=_1fb[0].data[i];if(isNaN(v)){v=0;}_1fc.vmin=Math.min(_1fc.vmin,v);for(var j=1;j<_1fb.length;++j){var t=_1fb[j].data[i];if(isNaN(t)){t=0;}v+=t;}_1fc.vmax=Math.max(_1fc.vmax,v);}}return _1fc;},curve:function(a,_1fd){var arr=a.slice(0);if(_1fd=="x"){arr[arr.length]=arr[0];}var p=dojo.map(arr,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_1fd)){var dx=item.x-arr[i-1].x,dy=arr[i-1].y;return "C"+(item.x-(_1fd-1)*(dx/_1fd))+","+dy+" "+(item.x-(dx/_1fd))+","+item.y+" "+item.x+","+item.y;}else{if(_1fd=="X"||_1fd=="x"||_1fd=="S"){var p0,p1=arr[i-1],p2=arr[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_1fd=="x"){p0=arr[arr.length-2];}else{p0=p1;}f=1/3;}else{p0=arr[i-2];}if(i==(arr.length-1)){if(_1fd=="x"){p3=arr[1];}else{p3=p2;}f=1/3;}else{p3=arr[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _1fe=p0p2*f;var _1ff=p1p3*f;if(_1fe>p1p2/2&&_1ff>p1p2/2){_1fe=p1p2/2;_1ff=p1p2/2;}else{if(_1fe>p1p2/2){_1fe=p1p2/2;_1ff=p1p2/2*p1p3/p0p2;}else{if(_1ff>p1p2/2){_1ff=p1p2/2;_1fe=p1p2/2*p0p2/p1p3;}}}if(_1fd=="S"){if(p0==p1){_1fe=0;}if(p2==p3){_1ff=0;}}bz1x=p1.x+_1fe*(p2.x-p0.x)/p0p2;bz1y=p1.y+_1fe*(p2.y-p0.y)/p0p2;bz2x=p2.x-_1ff*(p3.x-p1.x)/p1p3;bz2y=p2.y-_1ff*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");}});})();}if(!dojo._hasResource["dojox.charting.scaler.primitive"]){dojo._hasResource["dojox.charting.scaler.primitive"]=true;dojo.provide("dojox.charting.scaler.primitive");dojox.charting.scaler.primitive={buildScaler:function(min,max,span,_200){if(min==max){scale=1;min=-1;}else{scale=span/(max-min);}return {bounds:{lower:min,upper:max,from:min,to:max,scale:scale,span:span},scaler:dojox.charting.scaler.primitive};},buildTicks:function(_201,_202){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_203){var _204=_203.bounds.from,_205=_203.bounds.scale;return function(x){return (x-_204)*_205;};},getTransformerFromPlot:function(_206){var _207=_206.bounds.from,_208=_206.bounds.scale;return function(x){return x/_208+_207;};}};}if(!dojo._hasResource["dojox.charting.plot2d.Base"]){dojo._hasResource["dojox.charting.plot2d.Base"]=true;dojo.provide("dojox.charting.plot2d.Base");dojo.declare("dojox.charting.plot2d.Base",dojox.charting.Element,{destroy:function(){this.resetEvents();this.inherited(arguments);},clear:function(){this.series=[];this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){this.series.push(run);return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},render:function(dim,_209){return this;},getRequiredColors:function(){return this.series.length;},plotEvent:function(o){},connect:function(_20a,_20b){this.dirty=true;return dojo.connect(this,"plotEvent",_20a,_20b);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){this.plotEvent({type:"onplotreset",plot:this});},_calc:function(dim,_20c){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_20c.hmin,_20c.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=dojox.charting.scaler.primitive.buildScaler(_20c.hmin,_20c.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_20c.vmin,_20c.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=dojox.charting.scaler.primitive.buildScaler(_20c.vmin,_20c.vmax,dim.height);}},_connectEvents:function(_20d,o){_20d.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_20d.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_20d.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});}});}if(!dojo._hasResource["dojox.charting.plot2d.Default"]){dojo._hasResource["dojox.charting.plot2d.Default"]=true;dojo.provide("dojox.charting.plot2d.Default");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_20e=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Default",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,shadows:0,tension:0,valueStrokeStyle:"solid",blankStrokeStyle:"dot"},optionalParams:{},constructor:function(_20f,_210){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_210);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},_createPolylineGroup:function(data,dim,_211,ht,vt){var _212=this.opt.blankStrokeStyle;var _213=this.opt.valueStrokeStyle;var _214={};_214[_212]=[];_214[_213]=[];var _215=[],_216=[];data.each(function(v,i){var num,_217,_218;if(typeof v=="object"){if(!isNaN(v.y)){_217={x:ht(v.x)+_211.l,y:dim.height-_211.b-vt(v.y)};}num=v.y;}else{if(!isNaN(v)){_217={x:ht(i+1)+_211.l,y:dim.height-_211.b-vt(v)};}num=v;}gotValue=_217?true:false;if(gotValue){_216.push(_217);if(_215.length>0){_215.push(_217);_214[_212].push(_215);_215=[];}}else{if(_216.length>=1){_214[_213].push(_216);_215=[(_216.last())];_216=[];}}});_214[_213].push(_216);return _214;},_hasBlanks:function(arr){if(typeof arr[0]=="object"){for(var i=0;i<arr.length;i++){if(isNaN(arr[i].y)){return true;}}}else{for(var i=0;i<arr.length;i++){if(isNaN(arr[i])){return true;}}}},render:function(dim,_219){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_20e);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_21a,_21b,_21c,_21d,_21e=this.events();this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}var s=run.group,_21f,_220,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(this._hasBlanks(run.data)){_220=this._createPolylineGroup(run.data,dim,_219,ht,vt);}if(typeof run.data[0]=="number"){_21f=dojo.map(run.data,function(v,i){return {x:ht(i+1)+_219.l,y:dim.height-_219.b-vt(v)};},this);}else{_21f=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_219.l,y:dim.height-_219.b-vt(v.y)};},this);}if(!run.fill||!run.stroke){_21c=run.dyn.color=new dojo.Color(t.next("color"));}var _221=this.opt.tension?dc.curve(_21f,this.opt.tension):"";if(this.opt.areas){var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_21c);var _222=_21f.select(function(v){return !isNaN(v.y);});if(this.opt.tension){var _223="L"+_222[_222.length-1].x+","+(dim.height-_219.b)+" L"+_222[0].x+","+(dim.height-_219.b)+" L"+_222[0].x+","+_222[0].y;run.dyn.fill=s.createPath(_221+" "+_223).setFill(fill).getFill();}else{var zero=dim.height-_219.b-vt(0);_222.push({x:_222[_222.length-1].x,y:zero});_222.push({x:_222[0].x,y:zero});_222.push(_222[0]);run.dyn.fill=s.createPolyline(_222).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_21a=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_21c);if(run.outline||t.series.outline){_21b=dc.makeStroke(run.outline?run.outline:t.series.outline);_21b.width=2*_21b.width+_21a.width;}}if(this.opt.markers){_21d=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _224=null,_225=null,_226=null;if(this.opt.shadows&&_21a){var sh=this.opt.shadows,_227=new dojo.Color([0,0,0,0.3]),_228=dojo.map(_21f,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_229=dojo.clone(_21b?_21b:_21a);_229.color=_227;_229.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_228,this.opt.tension)).setStroke(_229).getStroke();}else{run.dyn.shadow=s.createPolyline(_228).setStroke(_229).getStroke();}}if(this.opt.markers){_226=dojo.map(_228,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_21d).setStroke(_229).setFill(_227);},this);}}if(this.opt.lines){if(_21b){if(this.opt.tension){run.dyn.outline=s.createPath(_221).setStroke(_21b).getStroke();}else{run.dyn.outline=s.createPolyline(_21f).setStroke(_21b).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_221).setStroke(_21a).getStroke();}else{if(_220){[this.opt.valueStrokeStyle,this.opt.blankStrokeStyle].each(function(_22a){_21a["style"]=_22a;_220[_22a].each(function(_22b){s.createPolyline(_22b).setStroke(_21a);});});run.dyn.stroke=Object.clone(_21a);_220=false;}else{run.dyn.stroke=s.createPolyline(_21f).setStroke(_21a).getStroke();}}}if(this.opt.markers){_224=new Array(_21f.length);_225=new Array(_21f.length);markerStroke=t.marker.stroke?t.marker.stroke:_21a;dojo.forEach(_21f,function(c,i){var path="M"+c.x+" "+c.y+" "+_21d;if(_21b){_225[i]=s.createPath(path).setStroke(_21b);}_224[i]=s.createPath(path).setStroke(markerStroke).setFill(markerStroke.color);},this);if(_21e){dojo.forEach(_224,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_225[i]||null,shadow:_226&&_226[i]||null,cx:_21f[i].x,cy:_21f[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(s,o);},this);}}if(_21e){var o={element:this.opt.areas?"area":"line",run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s};this._connectEvents(s,o);}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Lines"]){dojo._hasResource["dojox.charting.plot2d.Lines"]=true;dojo.provide("dojox.charting.plot2d.Lines");dojo.declare("dojox.charting.plot2d.Lines",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Areas"]){dojo._hasResource["dojox.charting.plot2d.Areas"]=true;dojo.provide("dojox.charting.plot2d.Areas");dojo.declare("dojox.charting.plot2d.Areas",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Markers"]){dojo._hasResource["dojox.charting.plot2d.Markers"]=true;dojo.provide("dojox.charting.plot2d.Markers");dojo.declare("dojox.charting.plot2d.Markers",dojox.charting.plot2d.Default,{constructor:function(){this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]){dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]=true;dojo.provide("dojox.charting.plot2d.MarkersOnly");dojo.declare("dojox.charting.plot2d.MarkersOnly",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Scatter"]){dojo._hasResource["dojox.charting.plot2d.Scatter"]=true;dojo.provide("dojox.charting.plot2d.Scatter");dojo.declare("dojox.charting.plot2d.Scatter",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.lang.functional.sequence"]){dojo._hasResource["dojox.lang.functional.sequence"]=true;dojo.provide("dojox.lang.functional.sequence");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{repeat:function(n,f,z,o){o=o||d.global;f=df.lambda(f);var t=new Array(n);t[0]=z;for(var i=1;i<n;t[i]=z=f.call(o,z),++i){}return t;},until:function(pr,f,z,o){o=o||d.global;f=df.lambda(f);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(z),z=f.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Stacked"]){dojo._hasResource["dojox.charting.plot2d.Stacked"]=true;dojo.provide("dojox.charting.plot2d.Stacked");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_22c=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Stacked",dojox.charting.plot2d.Default,{calculateAxes:function(dim){var _22d=dc.collectStackedStats(this.series);this._maxRunLength=_22d.hmax;this._calc(dim,_22d);return this;},render:function(dim,_22e){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_22c);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_22f,_230,_231,_232,_233=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group,_234=dojo.map(acc,function(v,i){return {x:ht(i+1)+_22e.l,y:dim.height-_22e.b-vt(v)};},this);if(!run.fill||!run.stroke){_231=new dojo.Color(t.next("color"));}var _235=this.opt.tension?dc.curve(_234,this.opt.tension):"";if(this.opt.areas){var _236=dojo.clone(_234);var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_231);if(this.opt.tension){var p=dc.curve(_236,this.opt.tension);p+=" L"+_234[_234.length-1].x+","+(dim.height-_22e.b)+" L"+_234[0].x+","+(dim.height-_22e.b)+" L"+_234[0].x+","+_234[0].y;run.dyn.fill=s.createPath(p).setFill(fill).getFill();}else{_236.push({x:_234[_234.length-1].x,y:dim.height-_22e.b});_236.push({x:_234[0].x,y:dim.height-_22e.b});_236.push(_234[0]);run.dyn.fill=s.createPolyline(_236).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_22f=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_231);if(run.outline||t.series.outline){_230=dc.makeStroke(run.outline?run.outline:t.series.outline);_230.width=2*_230.width+_22f.width;}}if(this.opt.markers){_232=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _237,_238,_239;if(this.opt.shadows&&_22f){var sh=this.opt.shadows,_23a=new dojo.Color([0,0,0,0.3]),_23b=dojo.map(_234,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_23c=dojo.clone(_230?_230:_22f);_23c.color=_23a;_23c.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_23b,this.opt.tension)).setStroke(_23c).getStroke();}else{run.dyn.shadow=s.createPolyline(_23b).setStroke(_23c).getStroke();}}if(this.opt.markers){_239=dojo.map(_23b,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_232).setStroke(_23c).setFill(_23a);},this);}}if(this.opt.lines){if(_230){if(this.opt.tension){run.dyn.outline=s.createPath(_235).setStroke(_230).getStroke();}else{run.dyn.outline=s.createPolyline(_234).setStroke(_230).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_235).setStroke(_22f).getStroke();}else{run.dyn.stroke=s.createPolyline(_234).setStroke(_22f).getStroke();}}if(this.opt.markers){_237=new Array(_234.length);_238=new Array(_234.length);dojo.forEach(_234,function(c,i){var path="M"+c.x+" "+c.y+" "+_232;if(_230){_238[i]=s.createPath(path).setStroke(_230);}_237[i]=s.createPath(path).setStroke(_22f).setFill(_22f.color);},this);if(_233){dojo.forEach(_237,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_238[i]||null,shadow:_239&&_239[i]||null,cx:_234[i].x,cy:_234[i].y,x:i+1,y:run.data[i]};this._connectEvents(s,o);},this);}}if(_233){var o={element:this.opt.areas?"area":"line",run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s};this._connectEvents(s,o);}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedLines"]){dojo._hasResource["dojox.charting.plot2d.StackedLines"]=true;dojo.provide("dojox.charting.plot2d.StackedLines");dojo.declare("dojox.charting.plot2d.StackedLines",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.StackedAreas"]){dojo._hasResource["dojox.charting.plot2d.StackedAreas"]=true;dojo.provide("dojox.charting.plot2d.StackedAreas");dojo.declare("dojox.charting.plot2d.StackedAreas",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Columns"]){dojo._hasResource["dojox.charting.plot2d.Columns"]=true;dojo.provide("dojox.charting.plot2d.Columns");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_23d=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_23e,_23f){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_23f);du.updateWithPattern(this.opt,_23f,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _240=dc.collectSimpleStats(this.series);_240.hmin-=0.5;_240.hmax+=0.5;this._calc(dim,_240);return this;},render:function(dim,_241){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_23d);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_242,_243,fill,f,gap,_244,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_245=Math.max(0,this._vScaler.bounds.lower),_246=vt(_245),_247=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_244=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_242=run.dyn.color=new dojo.Color(t.next("color"));}_243=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_242);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_242);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_248=vv-_246,h=Math.abs(_248);if(_244>=1&&h>=1){var rect={x:_241.l+ht(j+0.5)+gap,y:dim.height-_241.b-(v>_245?vv:_246),width:_244,height:h},_249=s.createRect(rect).setFill(fill).setStroke(_243);run.dyn.fill=_249.getFill();run.dyn.stroke=_249.getStroke();if(_247){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_249,x:j+0.5,y:v};this._connectEvents(_249,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedColumns"]){dojo._hasResource["dojox.charting.plot2d.StackedColumns"]=true;dojo.provide("dojox.charting.plot2d.StackedColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_24a=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{calculateAxes:function(dim){var _24b=dc.collectStackedStats(this.series);this._maxRunLength=_24b.hmax;_24b.hmin-=0.5;_24b.hmax+=0.5;this._calc(dim,_24b);return this;},render:function(dim,_24c){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_24a);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_24d,_24e,fill,f,gap,_24f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_250=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_24f=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_24d=run.dyn.color=new dojo.Color(t.next("color"));}_24e=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_24d);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_24d);for(var j=0;j<acc.length;++j){var v=acc[j],_251=vt(v);if(_24f>=1&&_251>=1){var _252=s.createRect({x:_24c.l+ht(j+0.5)+gap,y:dim.height-_24c.b-vt(v),width:_24f,height:_251}).setFill(fill).setStroke(_24e);run.dyn.fill=_252.getFill();run.dyn.stroke=_252.getStroke();if(_250){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_252,x:j+0.5,y:v};this._connectEvents(_252,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]){dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]=true;dojo.provide("dojox.charting.plot2d.ClusteredColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_253=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredColumns",dojox.charting.plot2d.Columns,{render:function(dim,_254){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_253);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_255,_256,fill,f,gap,_257,_258,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_259=Math.max(0,this._vScaler.bounds.lower),_25a=vt(_259),_25b=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_257=_258=f.size;this.resetEvents();for(var i=0;i<this.series.length;++i){var run=this.series[i],_25c=_258*i;if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_255=run.dyn.color=new dojo.Color(t.next("color"));}_256=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_255);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_255);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_25d=vv-_25a,h=Math.abs(_25d);if(_257>=1&&h>=1){var _25e=s.createRect({x:_254.l+ht(j+0.5)+gap+_25c,y:dim.height-_254.b-(v>_259?vv:_25a),width:_257,height:h}).setFill(fill).setStroke(_256);run.dyn.fill=_25e.getFill();run.dyn.stroke=_25e.getStroke();if(_25b){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_25e,x:j+0.5,y:v};this._connectEvents(_25e,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bars"]){dojo._hasResource["dojox.charting.plot2d.Bars"]=true;dojo.provide("dojox.charting.plot2d.Bars");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_25f=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_260,_261){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_261);du.updateWithPattern(this.opt,_261,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _262=dc.collectSimpleStats(this.series),t;_262.hmin-=0.5;_262.hmax+=0.5;t=_262.hmin,_262.hmin=_262.vmin,_262.vmin=t;t=_262.hmax,_262.hmax=_262.vmax,_262.vmax=t;this._calc(dim,_262);return this;},render:function(dim,_263){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_25f);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_264,_265,fill,f,gap,_266,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_267=Math.max(0,this._hScaler.bounds.lower),_268=ht(_267),_269=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_266=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_264=run.dyn.color=new dojo.Color(t.next("color"));}_265=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_264);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_264);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_26a=hv-_268,w=Math.abs(_26a);if(w>=1&&_266>=1){var _26b=s.createRect({x:_263.l+(v<_267?hv:_268),y:dim.height-_263.b-vt(j+1.5)+gap,width:w,height:_266}).setFill(fill).setStroke(_265);run.dyn.fill=_26b.getFill();run.dyn.stroke=_26b.getStroke();if(_269){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_26b,x:v,y:j+1.5};this._connectEvents(_26b,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedBars"]){dojo._hasResource["dojox.charting.plot2d.StackedBars"]=true;dojo.provide("dojox.charting.plot2d.StackedBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_26c=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{calculateAxes:function(dim){var _26d=dc.collectStackedStats(this.series),t;this._maxRunLength=_26d.hmax;_26d.hmin-=0.5;_26d.hmax+=0.5;t=_26d.hmin,_26d.hmin=_26d.vmin,_26d.vmin=t;t=_26d.hmax,_26d.hmax=_26d.vmax,_26d.vmax=t;this._calc(dim,_26d);return this;},render:function(dim,_26e){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_26c);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_26f,_270,fill,f,gap,_271,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_272=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_271=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_26f=run.dyn.color=new dojo.Color(t.next("color"));}_270=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_26f);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_26f);for(var j=0;j<acc.length;++j){var v=acc[j],_273=ht(v);if(_273>=1&&_271>=1){var _274=s.createRect({x:_26e.l,y:dim.height-_26e.b-vt(j+1.5)+gap,width:_273,height:_271}).setFill(fill).setStroke(_270);run.dyn.fill=_274.getFill();run.dyn.stroke=_274.getStroke();if(_272){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_274,x:v,y:j+1.5};this._connectEvents(_274,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]){dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=true;dojo.provide("dojox.charting.plot2d.ClusteredBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_275=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(dim,_276){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_275);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_277,_278,fill,f,gap,_279,_27a,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_27b=Math.max(0,this._hScaler.bounds.lower),_27c=ht(_27b),_27d=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_279=_27a=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_27e=_27a*(this.series.length-i-1);if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_277=run.dyn.color=new dojo.Color(t.next("color"));}_278=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_277);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_277);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_27f=hv-_27c,w=Math.abs(_27f);if(w>=1&&_279>=1){var _280=s.createRect({x:_276.l+(v<_27b?hv:_27c),y:dim.height-_276.b-vt(j+1.5)+gap+_27e,width:w,height:_279}).setFill(fill).setStroke(_278);run.dyn.fill=_280.getFill();run.dyn.stroke=_280.getStroke();if(_27d){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_280,x:v,y:j+1.5};this._connectEvents(_280,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Grid"]){dojo._hasResource["dojox.charting.plot2d.Grid"]=true;dojo.provide("dojox.charting.plot2d.Grid");(function(){var du=dojox.lang.utils;dojo.declare("dojox.charting.plot2d.Grid",dojox.charting.Element,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none"},optionalParams:{},constructor:function(_281,_282){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_282);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},getRequiredColors:function(){return 0;},render:function(dim,_283){this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis;try{var _284=this._vAxis.getScaler(),vt=_284.scaler.getTransformerFromModel(_284),_285=this._vAxis.getTicks();if(this.opt.hMinorLines){dojo.forEach(_285.minor,function(tick){var y=dim.height-_283.b-vt(tick.value);s.createLine({x1:_283.l,y1:y,x2:dim.width-_283.r,y2:y}).setStroke(ta.minorTick);});}if(this.opt.hMajorLines){dojo.forEach(_285.major,function(tick){var y=dim.height-_283.b-vt(tick.value);s.createLine({x1:_283.l,y1:y,x2:dim.width-_283.r,y2:y}).setStroke(ta.majorTick);});}}catch(e){}try{var _286=this._hAxis.getScaler(),ht=_286.scaler.getTransformerFromModel(_286),_285=this._hAxis.getTicks();if(_285&&this.opt.vMinorLines){dojo.forEach(_285.minor,function(tick){var x=_283.l+ht(tick.value);s.createLine({x1:x,y1:_283.t,x2:x,y2:dim.height-_283.b}).setStroke(ta.minorTick);});}if(_285&&this.opt.vMajorLines){dojo.forEach(_285.major,function(tick){var x=_283.l+ht(tick.value);s.createLine({x1:x,y1:_283.t,x2:x,y2:dim.height-_283.b}).setStroke(ta.majorTick);});}}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Pie"]){dojo._hasResource["dojox.charting.plot2d.Pie"]=true;dojo.provide("dojox.charting.plot2d.Pie");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx;dojo.declare("dojox.charting.plot2d.Pie",dojox.charting.Element,{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true},optionalParams:{font:"",fontColor:"",radius:0},constructor:function(_287,_288){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_288);du.updateWithPattern(this.opt,_288,this.optionalParams);this.run=null;this.dyn=[];},destroy:function(){this.resetEvents();this.inherited(arguments);},clear:function(){this.dirty=true;this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},calculateAxes:function(dim){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},plotEvent:function(o){},connect:function(_289,_28a){this.dirty=true;return dojo.connect(this,"plotEvent",_289,_28a);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){this.plotEvent({type:"onplotreset",plot:this});},_connectEvents:function(_28b,o){_28b.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_28b.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_28b.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});},render:function(dim,_28c){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,_28d,t=this.chart.theme;this.resetEvents();if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_28c.l-_28c.r)/2,ry=(dim.height-_28c.t-_28c.b)/2,r=Math.min(rx,ry),_28e="font" in this.opt?this.opt.font:t.axis.font,size=_28e?g.normalizedLength(g.splitFontString(_28e).size):0,_28f="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_290=0,step,_291,_292,_293,_294,_295,run=this.run.data,_296=this.events();if(typeof run[0]=="number"){_291=df.map(run,"Math.max(x, 0)");if(df.every(_291,"<= 0")){return this;}_292=df.map(_291,"/this",df.foldl(_291,"+",0));if(this.opt.labels){_293=dojo.map(_292,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_291=df.map(run,"Math.max(x.y, 0)");if(df.every(_291,"<= 0")){return this;}_292=df.map(_291,"/this",df.foldl(_291,"+",0));if(this.opt.labels){_293=dojo.map(_292,function(x,i){if(x<=0){return "";}var v=run[i];return "labelFunc" in v?v.labelFunc(this._getLabel(x*100)+"%",v.y):("text" in v?v.text:this._getLabel(x*100)+"%");},this);}}if(this.opt.labels){_294=df.foldl1(df.map(_293,function(_297){return dojox.gfx._base._getTextBox(_297,{font:_28e}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_294,ry-size)+this.opt.labelOffset;}_295=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_295=r-this.opt.labelOffset;}var _298={cx:_28c.l+rx,cy:_28c.t+ry,r:r};this.dyn=[];dojo.some(_292,function(_299,i){if(_299<=0){return false;}var v=run[i];if(_299>=1){var _29a,fill,_29b;if(typeof v=="object"){_29a="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_29a);_29b="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_29a);}else{_29a=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_29a);_29b=dc.augmentStroke(t.series.stroke,_29a);}var _29c=s.createCircle(_298).setFill(fill).setStroke(_29b);this.dyn.push({color:_29a,fill:fill,stroke:_29b});if(_296){var o={element:"slice",index:i,run:this.run,plot:this,shape:_29c,x:i,y:typeof v=="number"?v:v.y,cx:_298.cx,cy:_298.cy,cr:r};this._connectEvents(_29c,o);}return true;}var end=_290+_299*2*Math.PI;if(i+1==_292.length){end=2*Math.PI;}var step=end-_290,x1=_298.cx+r*Math.cos(_290),y1=_298.cy+r*Math.sin(_290),x2=_298.cx+r*Math.cos(end),y2=_298.cy+r*Math.sin(end);var _29a,fill,_29b;if(typeof v=="object"){_29a="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_29a);_29b="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_29a);}else{_29a=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_29a);_29b=dc.augmentStroke(t.series.stroke,_29a);}var _29c=s.createPath({}).moveTo(_298.cx,_298.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_298.cx,_298.cy).closePath().setFill(fill).setStroke(_29b);this.dyn.push({color:_29a,fill:fill,stroke:_29b});if(_296){var o={element:"slice",index:i,run:this.run,plot:this,shape:_29c,x:i,y:typeof v=="number"?v:v.y,cx:_298.cx,cy:_298.cy,cr:r};this._connectEvents(_29c,o);}_290=end;return false;},this);if(this.opt.labels){_290=0;dojo.some(_292,function(_29d,i){if(_29d<=0){return false;}if(_29d>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_298.cx,_298.cy+size/2,"middle",_293[i],_28e,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_28f);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_290+_29d*2*Math.PI,v=run[i];if(i+1==_292.length){end=2*Math.PI;}var _29e=(_290+end)/2,_29f=_295+((typeof v=="object"&&"offsetR" in v)?v.offsetR:0),x=_298.cx+_29f*Math.cos(_29e),y=_298.cy+_29f*Math.sin(_29e)+size/2;var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_293[i],(typeof v=="object"&&"font" in v)?v.font:_28e,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_28f);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_290=end;return false;},this);}return this;},_getLabel:function(_2a0){return this.opt.fixed?_2a0.toFixed(this.opt.precision):_2a0.toString();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bubble"]){dojo._hasResource["dojox.charting.plot2d.Bubble"]=true;dojo.provide("dojox.charting.plot2d.Bubble");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_2a1=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bubble",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y"},optionalParams:{},constructor:function(_2a2,_2a3){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_2a3);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_2a4){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_2a1);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_2a5,_2a6,_2a7,_2a8,_2a9,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_2aa=this.events();this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}if(typeof run.data[0]=="number"){console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",run);continue;}var s=run.group,_2ab=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_2a4.l,y:dim.height-_2a4.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)};},this);if(run.fill){_2a7=run.fill;}else{if(run.stroke){_2a7=run.stroke;}else{_2a7=run.dyn.color=new dojo.Color(t.next("color"));}}run.dyn.fill=_2a7;_2a5=run.dyn.stroke=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_2a7);var _2ac=null,_2ad=null,_2ae=null;if(this.opt.shadows&&_2a5){var sh=this.opt.shadows,_2a9=new dojo.Color([0,0,0,0.2]),_2a8=dojo.clone(_2a6?_2a6:_2a5);_2a8.color=_2a9;_2a8.width+=sh.dw?sh.dw:0;run.dyn.shadow=_2a8;var _2af=dojo.map(_2ab,function(item){var sh=this.opt.shadows;return s.createCircle({cx:item.x+sh.dx,cy:item.y+sh.dy,r:item.radius}).setStroke(_2a8).setFill(_2a9);},this);}if(run.outline||t.series.outline){_2a6=dc.makeStroke(run.outline?run.outline:t.series.outline);_2a6.width=2*_2a6.width+_2a5.width;run.dyn.outline=_2a6;_2ad=dojo.map(_2ab,function(item){s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_2a6);},this);}_2ac=dojo.map(_2ab,function(item){return s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_2a5).setFill(_2a7);},this);if(_2aa){dojo.forEach(_2ac,function(s,i){var o={element:"circle",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_2ad&&_2ad[i]||null,shadow:_2ae&&_2ae[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_2ab[i].x,cy:_2ab[i].y,cr:_2ab[i].radius};this._connectEvents(s,o);},this);}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.Chart2D"]){dojo._hasResource["dojox.charting.Chart2D"]=true;dojo.provide("dojox.charting.Chart2D");(function(){var df=dojox.lang.functional,dc=dojox.charting,_2b0=df.lambda("item.clear()"),_2b1=df.lambda("item.purgeGroup()"),_2b2=df.lambda("item.destroy()"),_2b3=df.lambda("item.dirty = false"),_2b4=df.lambda("item.dirty = true");dojo.declare("dojox.charting.Chart2D",null,{constructor:function(node,_2b5){if(!_2b5){_2b5={};}this.margins=_2b5.margins?_2b5.margins:{l:10,t:10,r:10,b:10};this.stroke=_2b5.stroke;this.fill=_2b5.fill;this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.coords=null;this.node=dojo.byId(node);var box=dojo.marginBox(node);this.surface=dojox.gfx.createSurface(this.node,box.w,box.h);},destroy:function(){dojo.forEach(this.series,_2b2);dojo.forEach(this.stack,_2b2);df.forIn(this.axes,_2b2);this.surface.destroy();},getCoords:function(){if(!this.coords){this.coords=dojo.coords(this.node,true);}return this.coords;},setTheme:function(_2b6){this.theme=_2b6._clone();this.dirty=true;return this;},addAxis:function(name,_2b7){var axis;if(!_2b7||!("type" in _2b7)){axis=new dc.axis2d.Default(this,_2b7);}else{axis=typeof _2b7.type=="string"?new dc.axis2d[_2b7.type](this,_2b7):new _2b7.type(this,_2b7);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_2b8){var plot;if(!_2b8||!("type" in _2b8)){plot=new dc.plot2d.Default(this,_2b8);}else{plot=typeof _2b8.type=="string"?new dc.plot2d[_2b8.type](this,_2b8):new _2b8.type(this,_2b8);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},removePlot:function(name){if(name in this.plots){var _2b9=this.plots[name];delete this.plots[name];this.stack[_2b9].destroy();this.stack.splice(_2b9,1);df.forIn(this.plots,function(idx,name,_2ba){if(idx>_2b9){_2ba[name]=idx-1;}});this.dirty=true;}return this;},addSeries:function(name,data,_2bb){var run=new dc.Series(this,data,_2bb);if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}run.name=name;this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},removeSeries:function(name){if(name in this.runs){var _2bc=this.runs[name],_2bd=this.series[_2bc].plot;delete this.runs[name];this.series[_2bc].destroy();this.series.splice(_2bc,1);df.forIn(this.runs,function(idx,name,runs){if(idx>_2bc){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data){if(name in this.runs){var run=this.series[this.runs[name]];run.data=data;run.dirty=true;this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}return this;},resize:function(_2be,_2bf){var box;switch(arguments.length){case 0:box=dojo.marginBox(this.node);break;case 1:box=_2be;break;default:box={w:_2be,h:_2bf};break;}dojo.marginBox(this.node,box);this.surface.setDimensions(box.w,box.h);this.dirty=true;this.coords=null;return this.render();},getGeometry:function(){var ret={};df.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_2c0,_2c1){var axis=this.axes[name];if(axis){axis.setWindow(_2c0,_2c1);}return this;},setWindow:function(sx,sy,dx,dy){if(!("plotArea" in this)){this.calculateGeometry();}df.forIn(this.axes,function(axis){var _2c2,_2c3,_2c4=axis.getScaler().bounds,s=_2c4.span/(_2c4.upper-_2c4.lower);if(axis.vertical){_2c2=sy;_2c3=dy/s/_2c2;}else{_2c2=sx;_2c3=dx/s/_2c2;}axis.setWindow(_2c2,_2c3);});return this;},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}dojo.forEach(this.stack,function(plot){if(plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty)){plot.calculateAxes(this.plotArea);}},this);return this;},fullGeometry:function(){this._makeDirty();dojo.forEach(this.stack,_2b0);if(!this.theme){this.setTheme(new dojox.charting.Theme(dojox.charting._def));}dojo.forEach(this.series,function(run){if(!(run.plot in this.plots)){var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);dojo.forEach(this.stack,function(plot){if(plot.hAxis){plot.setAxis(this.axes[plot.hAxis]);}if(plot.vAxis){plot.setAxis(this.axes[plot.vAxis]);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=dojox.gfx.normalizedLength(dim.width);dim.height=dojox.gfx.normalizedLength(dim.height);df.forIn(this.axes,_2b0);dojo.forEach(this.stack,function(plot){plot.calculateAxes(dim);});var _2c5=this.offsets={l:0,r:0,t:0,b:0};df.forIn(this.axes,function(axis){df.forIn(axis.getOffsets(),function(o,i){_2c5[i]+=o;});});df.forIn(this.margins,function(o,i){_2c5[i]+=o;});this.plotArea={width:dim.width-_2c5.l-_2c5.r,height:dim.height-_2c5.t-_2c5.b};df.forIn(this.axes,_2b0);dojo.forEach(this.stack,function(plot){plot.calculateAxes(this.plotArea);},this);return this;},render:function(){if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();df.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);df.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();if(this.surface.render){this.surface.render();}return this;},fullRender:function(){this.fullGeometry();var _2c6=this.offsets,dim=this.dim;var _2c7=df.foldl(this.stack,"z + plot.getRequiredColors()",0);this.theme.defineColors({num:_2c7,cache:false});dojo.forEach(this.series,_2b1);df.forIn(this.axes,_2b1);dojo.forEach(this.stack,_2b1);this.surface.clear();var t=this.theme,fill=t.plotarea&&t.plotarea.fill,_2c8=t.plotarea&&t.plotarea.stroke;if(fill){this.fills={};this.fills.c=this.surface.createRect({x:_2c6.l,y:_2c6.t,width:dim.width-_2c6.l-_2c6.r,height:dim.height-_2c6.t-_2c6.b}).setFill(fill);}if(_2c8){this.surface.createRect({x:_2c6.l,y:_2c6.t,width:dim.width-_2c6.l-_2c6.r-1,height:dim.height-_2c6.t-_2c6.b-1}).setStroke(_2c8);}df.foldr(this.stack,function(z,plot){return plot.render(dim,_2c6),0;},0);fill=this.fill?this.fill:(t.chart&&t.chart.fill);_2c8=this.stroke?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node,fill=new dojo.Color(dojo.style(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new dojo.Color(dojo.style(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(_2c6.l){this.fills.l=this.surface.createRect({width:_2c6.l,height:dim.height+1}).setFill(fill);}if(_2c6.r){this.fills.r=this.surface.createRect({x:dim.width-_2c6.r,width:_2c6.r+1,height:dim.height+1}).setFill(fill);}if(_2c6.t){this.fills.t=this.surface.createRect({width:dim.width+1,height:_2c6.t}).setFill(fill);}if(_2c6.b){this.fills.b=this.surface.createRect({y:dim.height-_2c6.b,width:dim.width+1,height:_2c6.b+2}).setFill(fill);}}if(_2c8){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_2c8);}df.forIn(this.axes,function(axis){axis.render(dim,_2c6);});this._makeClean();if(this.surface.render){this.surface.render();}return this;},connectToPlot:function(name,_2c9,_2ca){return name in this.plots?this.stack[this.plots[name]].connect(_2c9,_2ca):null;},_makeClean:function(){dojo.forEach(this.axes,_2b3);dojo.forEach(this.stack,_2b3);dojo.forEach(this.series,_2b3);this.dirty=false;},_makeDirty:function(){dojo.forEach(this.axes,_2b4);dojo.forEach(this.stack,_2b4);dojo.forEach(this.series,_2b4);this.dirty=true;},_invalidateDependentPlots:function(_2cb,_2cc){if(_2cb in this.plots){var plot=this.stack[this.plots[_2cb]],axis,_2cd=_2cc?"vAxis":"hAxis";if(plot[_2cd]){axis=this.axes[plot[_2cd]];if(axis.dependOnData()){axis.dirty=true;dojo.forEach(this.stack,function(p){if(p[_2cd]&&p[_2cd]==plot[_2cd]){p.dirty=true;}});}}else{plot.dirty=true;}}}});})();}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["dojox.gfx.fx"]){dojo._hasResource["dojox.gfx.fx"]=true;dojo.provide("dojox.gfx.fx");(function(){var d=dojo,g=dojox.gfx,m=g.matrix;var _2ce=function(_2cf,end){this.start=_2cf,this.end=end;};d.extend(_2ce,{getValue:function(r){return (this.end-this.start)*r+this.start;}});var _2d0=function(_2d1,end,unit){this.start=_2d1,this.end=end;this.unit=unit;};d.extend(_2d0,{getValue:function(r){return (this.end-this.start)*r+this.start+this.unit;}});var _2d2=function(_2d3,end){this.start=_2d3,this.end=end;this.temp=new dojo.Color();};d.extend(_2d2,{getValue:function(r){return d.blendColors(this.start,this.end,r,this.temp);}});var _2d4=function(_2d5){this.values=_2d5;this.length=_2d5.length;};d.extend(_2d4,{getValue:function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];}});var _2d6=function(_2d7,def){this.values=_2d7;this.def=def?def:{};};d.extend(_2d6,{getValue:function(r){var ret=dojo.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;}});var _2d8=function(_2d9,_2da){this.stack=_2d9;this.original=_2da;};d.extend(_2d8,{getValue:function(r){var ret=[];dojo.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=dojo.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_2db=f.apply(m,val);if(_2db instanceof m.Matrix2D){ret.push(_2db);}},this);return ret;}});var _2dc=new d.Color(0,0,0,0);var _2dd=function(prop,obj,name,def){if(prop.values){return new _2d4(prop.values);}var _2de,_2df,end;if(prop.start){_2df=g.normalizeColor(prop.start);}else{_2df=_2de=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_2de){_2de=obj?(name?obj[name]:obj):def;}end=_2de;}return new _2d2(_2df,end);};var _2e0=function(prop,obj,name,def){if(prop.values){return new _2d4(prop.values);}var _2e1,_2e2,end;if(prop.start){_2e2=prop.start;}else{_2e2=_2e1=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _2e1!="number"){_2e1=obj?obj[name]:def;}end=_2e1;}return new _2ce(_2e2,end);};g.fx.animateStroke=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_2e3=args.shape,_2e4;d.connect(anim,"beforeBegin",anim,function(){_2e4=_2e3.getStroke();var prop=args.color,_2e5={},_2e6,_2e7,end;if(prop){_2e5.color=_2dd(prop,_2e4,"color",_2dc);}prop=args.style;if(prop&&prop.values){_2e5.style=new _2d4(prop.values);}prop=args.width;if(prop){_2e5.width=_2e0(prop,_2e4,"width",1);}prop=args.cap;if(prop&&prop.values){_2e5.cap=new _2d4(prop.values);}prop=args.join;if(prop){if(prop.values){_2e5.join=new _2d4(prop.values);}else{_2e7=prop.start?prop.start:(_2e4&&_2e4.join||0);end=prop.end?prop.end:(_2e4&&_2e4.join||0);if(typeof _2e7=="number"&&typeof end=="number"){_2e5.join=new _2ce(_2e7,end);}}}this.curve=new _2d6(_2e5,_2e4);});d.connect(anim,"onAnimate",_2e3,"setStroke");return anim;};g.fx.animateFill=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_2e8=args.shape,fill;d.connect(anim,"beforeBegin",anim,function(){fill=_2e8.getFill();var prop=args.color,_2e9={};if(prop){this.curve=_2dd(prop,fill,"",_2dc);}});d.connect(anim,"onAnimate",_2e8,"setFill");return anim;};g.fx.animateFont=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_2ea=args.shape,font;d.connect(anim,"beforeBegin",anim,function(){font=_2ea.getFont();var prop=args.style,_2eb={},_2ec,_2ed,end;if(prop&&prop.values){_2eb.style=new _2d4(prop.values);}prop=args.variant;if(prop&&prop.values){_2eb.variant=new _2d4(prop.values);}prop=args.weight;if(prop&&prop.values){_2eb.weight=new _2d4(prop.values);}prop=args.family;if(prop&&prop.values){_2eb.family=new _2d4(prop.values);}prop=args.size;if(prop&&prop.unit){_2ed=parseFloat(prop.start?prop.start:(_2ea.font&&_2ea.font.size||"0"));end=parseFloat(prop.end?prop.end:(_2ea.font&&_2ea.font.size||"0"));_2eb.size=new _2d0(_2ed,end,prop.unit);}this.curve=new _2d6(_2eb,font);});d.connect(anim,"onAnimate",_2ea,"setFont");return anim;};g.fx.animateTransform=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_2ee=args.shape,_2ef;d.connect(anim,"beforeBegin",anim,function(){_2ef=_2ee.getTransform();this.curve=new _2d8(args.transform,_2ef);});d.connect(anim,"onAnimate",_2ee,"setTransform");return anim;};})();}if(!dojo._hasResource["dojox.charting.action2d.Base"]){dojo._hasResource["dojox.charting.action2d.Base"]=true;dojo.provide("dojox.charting.action2d.Base");(function(){var _2f0=400,_2f1=dojo.fx.easing.backOut,df=dojox.lang.functional;dojo.declare("dojox.charting.action2d.Base",null,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(_2f2,plot,_2f3){this.chart=_2f2;this.plot=plot?plot:"default";this.anim={};if(!_2f3){_2f3={};}this.duration=_2f3.duration?_2f3.duration:_2f0;this.easing=_2f3.easing?_2f3.easing:_2f1;},connect:function(){this.handle=this.chart.connectToPlot(this.plot,this,"process");},disconnect:function(){if(this.handle){dojo.disconnect(this.handle);this.handle=null;}},reset:function(){},destroy:function(){if(this.handle){this.disconnect();}df.forIn(this.anim,function(o){df.forIn(o,function(anim){anim.action.stop(true);});});this.anim={};}});})();}if(!dojo._hasResource["dojox.charting.action2d.Highlight"]){dojo._hasResource["dojox.charting.action2d.Highlight"]=true;dojo.provide("dojox.charting.action2d.Highlight");(function(){var _2f4=100,_2f5=75,_2f6=50,c=dojox.color,cc=function(_2f7){return function(){return _2f7;};},hl=function(_2f8){var a=new c.Color(_2f8),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_2f4;if(x.l<_2f6){x.l=_2f5;}else{if(x.l>_2f5){x.l=_2f6;}else{x.l=x.l-_2f6>_2f5-x.l?_2f6:_2f5;}}}return c.fromHsl(x);};dojo.declare("dojox.charting.action2d.Highlight",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut},optionalParams:{highlight:"red"},constructor:function(_2f9,plot,_2fa){var a=_2fa&&_2fa.highlight;this.colorFun=a?(dojo.isFunction(a)?a:cc(a)):hl;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _2fb=o.run.name,_2fc=o.index,_2fd=o.shape,anim,_2fe,_2ff;if("children" in _2fd){_2fd=_2fd.children[0];_2fc=0;}if(o.element=="line"){_2fd.getFill=function(){return _2fd.getStroke().color;};_2fd.setFill=function(c){var s=_2fd.getStroke();s.color=c;_2fd.setStroke(s);};}if(_2fb in this.anim){anim=this.anim[_2fb][_2fc];}else{this.anim[_2fb]={};}if(anim){anim.action.stop(true);}else{var _300=_2fd.getFill();if(!_300||!(_300 instanceof dojo.Color)){return;}this.anim[_2fb][_2fc]=anim={start:_300,end:this.colorFun(_300)};}var _301=anim.start,end=anim.end;if(o.type=="onmouseout"){var t=_301;_301=end;end=t;}anim.action=dojox.gfx.fx.animateFill({shape:_2fd,duration:this.duration,easing:this.easing,color:{start:_301,end:end}});if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_2fb]){delete this.anim[_2fb][_2fc];}});}anim.action.play();}});})();}if(!dojo._hasResource["dojox.lang.functional.scan"]){dojo._hasResource["dojox.lang.functional.scan"]=true;dojo.provide("dojox.lang.functional.scan");(function(){var d=dojo,df=dojox.lang.functional,_302={};d.mixin(df,{scanl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n;if(d.isArray(a)){t=new Array((n=a.length)+1);t[0]=z;for(var i=0;i<n;z=f.call(o,z,a[i],i,a),t[++i]=z){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[z];for(var i=0;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}else{t=[z];for(var i in a){if(i in _302){continue;}t.push(z=f.call(o,z,a[i],i,a));}}}return t;},scanl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,z;if(d.isArray(a)){t=new Array(n=a.length);t[0]=z=a[0];for(var i=1;i<n;t[i]=z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){t=[z=a.next()];for(var i=1;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}}else{var _303=true;for(var i in a){if(i in _302){continue;}if(_303){t=[z=a[i]];_303=false;}else{t.push(z=f.call(o,z,a[i],i,a));}}}}return t;},scanr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n+1);t[n]=z;for(var i=n;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;},scanr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),z=a[n-1];t[n-1]=z;for(var i=n-1;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;}});})();}if(!dojo._hasResource["dojox.charting.action2d.MoveSlice"]){dojo._hasResource["dojox.charting.action2d.MoveSlice"]=true;dojo.provide("dojox.charting.action2d.MoveSlice");(function(){var _304=1.05,_305=7,m=dojox.gfx.matrix,gf=dojox.gfx.fx,df=dojox.lang.functional;dojo.declare("dojox.charting.action2d.MoveSlice",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,scale:_304,shift:_305},optionalParams:{},constructor:function(_306,plot,_307){if(!_307){_307={};}this.scale=typeof _307.scale=="number"?_307.scale:_304;this.shift=typeof _307.shift=="number"?_307.shift:_305;this.connect();},process:function(o){if(!o.shape||o.element!="slice"||!(o.type in this.overOutEvents)){return;}if(!this.angles){if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var _308=o.index,anim,_309,_30a,_30b,_30c=(this.angles[_308]+this.angles[_308+1])/2,_30d=m.rotateAt(-_30c,o.cx,o.cy),_30e=m.rotateAt(_30c,o.cx,o.cy);anim=this.anim[_308];if(anim){anim.action.stop(true);}else{this.anim[_308]=anim={};}if(o.type=="onmouseover"){_30a=0;_30b=this.shift;_309=this.scale;}else{_30a=this.shift;_30b=0;_309=1;}anim.action=dojox.gfx.fx.animateTransform({shape:o.shape,duration:this.duration,easing:this.easing,transform:[_30e,{name:"translate",start:[_30a,0],end:[_30b,0]},{name:"scaleAt",start:[1,o.cx,o.cy],end:[_309,o.cx,o.cy]},_30d]});if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){delete this.anim[_308];});}anim.action.play();},reset:function(){delete this.angles;}});})();}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_30f,_310){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _311=dojo.date.stamp._isoRegExp.exec(_30f);var _312=null;if(_311){_311.shift();if(_311[1]){_311[1]--;}if(_311[6]){_311[6]*=1000;}if(_310){_310=new Date(_310);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _310["get"+prop]();}).forEach(function(_313,_314){if(_311[_314]===undefined){_311[_314]=_313;}});}_312=new Date(_311[0]||1970,_311[1]||0,_311[2]||1,_311[3]||0,_311[4]||0,_311[5]||0,_311[6]||0);var _315=0;var _316=_311[7]&&_311[7].charAt(0);if(_316!="Z"){_315=((_311[8]||0)*60)+(Number(_311[9])||0);if(_316!="-"){_315*=-1;}}if(_316){_315-=_312.getTimezoneOffset();}if(_315){_312.setTime(_312.getTime()+_315*60000);}}return _312;};dojo.date.stamp.toISOString=function(_317,_318){var _319=function(n){return (n<10)?"0"+n:n;};_318=_318||{};var _31a=[];var _31b=_318.zulu?"getUTC":"get";var date="";if(_318.selector!="time"){var year=_317[_31b+"FullYear"]();date=["0000".substr((year+"").length)+year,_319(_317[_31b+"Month"]()+1),_319(_317[_31b+"Date"]())].join("-");}_31a.push(date);if(_318.selector!="date"){var time=[_319(_317[_31b+"Hours"]()),_319(_317[_31b+"Minutes"]()),_319(_317[_31b+"Seconds"]())].join(":");var _31c=_317[_31b+"Milliseconds"]();if(_318.milliseconds){time+="."+(_31c<100?"0":"")+_319(_31c);}if(_318.zulu){time+="Z";}else{if(_318.selector!="time"){var _31d=_317.getTimezoneOffset();var _31e=Math.abs(_31d);time+=(_31d>0?"-":"+")+_319(Math.floor(_31e/60))+":"+_319(_31e%60);}}_31a.push(time);}return _31a.join("T");};}dojo.i18n._preloadLocalizations("dojo.nls.swivel_chart",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nl","nl-nl","no","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
